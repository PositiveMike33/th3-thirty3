[{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\AgentMonitor.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\Avatar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\ChatInterface.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\CyberKineticSimulator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\CyberTrainingPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\DartAI.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Icon' is defined but never used.","line":306,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":306,"endColumn":60,"suggestions":[{"messageId":"removeVar","data":{"varName":"Icon"},"fix":{"range":[13555,13567],"text":""},"desc":"Remove unused variable 'Icon'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'StatusIcon' is defined but never used.","line":716,"column":59,"nodeType":"Identifier","messageId":"unusedVar","endLine":716,"endColumn":69,"suggestions":[{"messageId":"removeVar","data":{"varName":"StatusIcon"},"fix":{"range":[39855,39873],"text":""},"desc":"Remove unused variable 'StatusIcon'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { \r\n    Target, Plus, Trash2, Edit3, CheckCircle, Circle, Clock, \r\n    ChevronDown, Tag, Calendar, Loader2, RefreshCw, ListTodo, \r\n    ChevronRight, MoreVertical, X, Check, Rocket, Sparkles, \r\n    BarChart3, Star, FolderKanban, Users, Settings, Inbox, \r\n    Layout, Filter, SortAsc, Search, ArrowRight, ExternalLink,\r\n    LayoutGrid, List, Zap, Bell, MessageSquare, ChevronUp,\r\n    GripVertical, Flag, Archive, Eye, Play, Pause, GitBranch\r\n} from 'lucide-react';\r\nimport { API_URL } from './config';\r\n\r\nconst DartAI = () => {\r\n    const [tasks, setTasks] = useState([]);\r\n    const [googleTasks, setGoogleTasks] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [activeView, setActiveView] = useState('board'); // board, list, timeline\r\n    const [selectedProject, setSelectedProject] = useState('all');\r\n    const [showCreateModal, setShowCreateModal] = useState(false);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filterStatus, setFilterStatus] = useState('all');\r\n    const [sortBy] = useState('priority');\r\n    const [showAIPanel, setShowAIPanel] = useState(false);\r\n    const [aiPrompt, setAiPrompt] = useState('');\r\n    const [aiResponse, setAiResponse] = useState('');\r\n    const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n    const [showGoogleSync] = useState(true);\r\n    \r\n    const [newTask, setNewTask] = useState({\r\n        title: '',\r\n        description: '',\r\n        priority: 'medium',\r\n        dueDate: '',\r\n        status: 'todo',\r\n        labels: [],\r\n        assignee: 'Me'\r\n    });\r\n    const [selectedTask, setSelectedTask] = useState(null);\r\n    const [isUpdating, setIsUpdating] = useState(null); // Track which task is being updated\r\n\r\n    // Projects for sidebar\r\n    const projects = [\r\n        { id: 'all', name: 'All Tasks', icon: Inbox, color: 'purple' },\r\n        { id: 'security', name: 'Security Research', icon: Target, color: 'red' },\r\n        { id: 'development', name: 'Development', icon: GitBranch, color: 'blue' },\r\n        { id: 'osint', name: 'OSINT Projects', icon: Search, color: 'green' },\r\n        { id: 'personal', name: 'Personal', icon: Star, color: 'yellow' }\r\n    ];\r\n\r\n    // Load tasks on mount\r\n    useEffect(() => {\r\n        loadTasks();\r\n        loadGoogleTasks();\r\n    }, []);\r\n\r\n    const loadTasks = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/dart/tasks`);\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setTasks(data.tasks);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load tasks:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const loadGoogleTasks = async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/google/tasks?email=th3thirty3@gmail.com`);\r\n            const data = await res.json();\r\n            if (data.tasks) {\r\n                setGoogleTasks(data.tasks.slice(0, 5)); // Show top 5 Google Tasks\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load Google Tasks:', error);\r\n        }\r\n    };\r\n\r\n    const createTask = async (e) => {\r\n        e?.preventDefault();\r\n        if (!newTask.title.trim()) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/dart/tasks/create`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(newTask)\r\n            });\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setNewTask({ title: '', description: '', priority: 'medium', dueDate: '', status: 'todo', labels: [], assignee: 'Me' });\r\n                setShowCreateModal(false);\r\n                loadTasks();\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to create task:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const toggleTaskStatus = async (taskId, currentStatus) => {\r\n        // Cycle through: todo -> in_progress -> completed -> todo\r\n        const statusCycle = {\r\n            'todo': 'in_progress',\r\n            'in_progress': 'completed',\r\n            'completed': 'todo',\r\n            undefined: 'in_progress'\r\n        };\r\n        const newStatus = statusCycle[currentStatus] || 'in_progress';\r\n        \r\n        setIsUpdating(taskId);\r\n        \r\n        try {\r\n            const res = await fetch(`${API_URL}/api/dart/tasks/${taskId}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ status: newStatus })\r\n            });\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setTasks(prev => prev.map(t => \r\n                    (t.id === taskId || t.dart_id === taskId)\r\n                        ? { ...t, status: newStatus }\r\n                        : t\r\n                ));\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to toggle task status:', error);\r\n        } finally {\r\n            setTimeout(() => setIsUpdating(null), 300);\r\n        }\r\n    };\r\n\r\n    // Set specific status directly\r\n    const setTaskStatus = async (taskId, newStatus) => {\r\n        setIsUpdating(taskId);\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/dart/tasks/${taskId}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ status: newStatus })\r\n            });\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setTasks(prev => prev.map(t => \r\n                    (t.id === taskId || t.dart_id === taskId)\r\n                        ? { ...t, status: newStatus }\r\n                        : t\r\n                ));\r\n                setSelectedTask(prev => prev ? { ...prev, status: newStatus } : null);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to set task status:', error);\r\n        } finally {\r\n            setTimeout(() => setIsUpdating(null), 300);\r\n        }\r\n    };\r\n\r\n    const breakdownWithAI = async () => {\r\n        if (!aiPrompt.trim()) return;\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/dart/tasks/breakdown`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ taskDescription: aiPrompt })\r\n            });\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setAiResponse(data.breakdown);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to breakdown task:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Filter and sort tasks\r\n    const filteredTasks = tasks.filter(task => {\r\n        const matchesSearch = task.title?.toLowerCase().includes(searchQuery.toLowerCase());\r\n        const matchesFilter = filterStatus === 'all' || task.status === filterStatus;\r\n        return matchesSearch && matchesFilter;\r\n    }).sort((a, b) => {\r\n        if (sortBy === 'priority') {\r\n            const priorityOrder = { high: 0, medium: 1, low: 2 };\r\n            return (priorityOrder[a.priority] || 1) - (priorityOrder[b.priority] || 1);\r\n        }\r\n        if (sortBy === 'date') {\r\n            return new Date(a.dueDate || '9999') - new Date(b.dueDate || '9999');\r\n        }\r\n        return 0;\r\n    });\r\n\r\n    // Group tasks by status for Kanban\r\n    const tasksByStatus = {\r\n        todo: filteredTasks.filter(t => t.status === 'todo' || !t.status),\r\n        in_progress: filteredTasks.filter(t => t.status === 'in_progress'),\r\n        completed: filteredTasks.filter(t => t.status === 'completed')\r\n    };\r\n\r\n    const getPriorityColor = (priority) => {\r\n        switch(priority) {\r\n            case 'high': return 'text-red-400 bg-red-500/10 border-red-500/30';\r\n            case 'medium': return 'text-yellow-400 bg-yellow-500/10 border-yellow-500/30';\r\n            case 'low': return 'text-green-400 bg-green-500/10 border-green-500/30';\r\n            default: return 'text-gray-400 bg-gray-500/10 border-gray-500/30';\r\n        }\r\n    };\r\n\r\n    // Task Card Component with enhanced interactivity\r\n    const TaskCard = ({ task, compact = false }) => {\r\n        const taskId = task.id || task.dart_id;\r\n        const isBeingUpdated = isUpdating === taskId;\r\n        \r\n        return (\r\n            <div \r\n                className={`\r\n                    group bg-gray-900/80 hover:bg-gray-800/90 border rounded-xl cursor-pointer\r\n                    transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg hover:shadow-purple-500/10\r\n                    ${compact ? 'p-3' : 'p-4'}\r\n                    ${isBeingUpdated ? 'scale-95 opacity-70' : ''}\r\n                    ${task.status === 'completed' \r\n                        ? 'border-green-500/30 hover:border-green-500/50' \r\n                        : task.status === 'in_progress'\r\n                        ? 'border-blue-500/30 hover:border-blue-500/50'\r\n                        : 'border-gray-700/50 hover:border-purple-500/50'\r\n                    }\r\n                `}\r\n                onClick={() => setSelectedTask(task)}\r\n            >\r\n                <div className=\"flex items-start gap-3\">\r\n                    <button \r\n                        className={`\r\n                            mt-0.5 flex-shrink-0 p-1 rounded-lg transition-all duration-200\r\n                            hover:bg-gray-700 hover:scale-110 active:scale-95\r\n                            ${isBeingUpdated ? 'animate-pulse' : ''}\r\n                        `}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleTaskStatus(taskId, task.status);\r\n                        }}\r\n                    >\r\n                        {task.status === 'completed' ? (\r\n                            <CheckCircle size={20} className=\"text-green-400 drop-shadow-[0_0_4px_rgba(74,222,128,0.5)]\" />\r\n                        ) : task.status === 'in_progress' ? (\r\n                            <Play size={20} className=\"text-blue-400 drop-shadow-[0_0_4px_rgba(96,165,250,0.5)] animate-pulse\" />\r\n                        ) : (\r\n                            <Circle size={20} className=\"text-gray-500 group-hover:text-purple-400 transition-colors\" />\r\n                        )}\r\n                    </button>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                        <h4 className={`font-medium text-sm leading-tight transition-all ${\r\n                            task.status === 'completed' ? 'text-gray-500 line-through' : 'text-white group-hover:text-purple-200'\r\n                        }`}>\r\n                            {task.title}\r\n                        </h4>\r\n                        {!compact && task.description && (\r\n                            <p className=\"text-xs text-gray-500 mt-1 line-clamp-2 group-hover:text-gray-400 transition-colors\">\r\n                                {task.description}\r\n                            </p>\r\n                        )}\r\n                        <div className=\"flex items-center gap-2 mt-2 flex-wrap\">\r\n                            <span className={`text-[10px] px-2 py-0.5 rounded-full border font-medium transition-all ${getPriorityColor(task.priority)}`}>\r\n                                {(task.priority || 'MEDIUM').toUpperCase()}\r\n                            </span>\r\n                            <span className={`text-[10px] px-2 py-0.5 rounded-full font-medium ${\r\n                                task.status === 'completed' ? 'bg-green-500/20 text-green-300 border border-green-500/30' :\r\n                                task.status === 'in_progress' ? 'bg-blue-500/20 text-blue-300 border border-blue-500/30' :\r\n                                'bg-gray-500/20 text-gray-400 border border-gray-500/30'\r\n                            }`}>\r\n                                {(task.status || 'TODO').toUpperCase().replace('_', ' ')}\r\n                            </span>\r\n                            {task.dueDate && (\r\n                                <span className=\"text-[10px] text-gray-500 flex items-center gap-1\">\r\n                                    <Calendar size={10} />\r\n                                    {new Date(task.dueDate).toLocaleDateString()}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"opacity-0 group-hover:opacity-100 transition-all flex items-center gap-1\">\r\n                        <button \r\n                            className=\"p-1.5 hover:bg-purple-500/20 rounded-lg transition-colors\"\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                setSelectedTask(task);\r\n                            }}\r\n                        >\r\n                            <Eye size={14} className=\"text-purple-400\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Kanban Column Component\r\n    const KanbanColumn = ({ title, tasks, color, icon: Icon }) => (\r\n        <div className=\"flex-1 min-w-[300px] max-w-[350px]\">\r\n            <div className={`flex items-center gap-2 mb-4 pb-2 border-b border-${color}-500/30`}>\r\n                <Icon size={16} className={`text-${color}-400`} />\r\n                <h3 className=\"font-semibold text-sm text-white\">{title}</h3>\r\n                <span className=\"text-xs text-gray-500 bg-gray-800 px-2 py-0.5 rounded-full\">{tasks.length}</span>\r\n            </div>\r\n            <div className=\"space-y-2 min-h-[200px]\">\r\n                {tasks.map((task, idx) => (\r\n                    <TaskCard key={task.id || task.dart_id || idx} task={task} />\r\n                ))}\r\n                {tasks.length === 0 && (\r\n                    <div className=\"text-center py-8 text-gray-600 text-sm\">\r\n                        No tasks\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"flex h-full bg-gray-950 text-white overflow-hidden\">\r\n            {/* Sidebar */}\r\n            <div className={`${sidebarCollapsed ? 'w-16' : 'w-64'} bg-gray-900/50 border-r border-gray-800 flex flex-col transition-all duration-300`}>\r\n                {/* Sidebar Header */}\r\n                <div className=\"p-4 border-b border-gray-800\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-cyan-500 flex items-center justify-center\">\r\n                                <Rocket size={18} className=\"text-white\" />\r\n                            </div>\r\n                            {!sidebarCollapsed && (\r\n                                <div>\r\n                                    <h1 className=\"font-bold text-lg bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent\">\r\n                                        DART\r\n                                    </h1>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <button \r\n                            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\r\n                            className=\"p-1.5 hover:bg-gray-800 rounded-lg transition-colors\"\r\n                        >\r\n                            {sidebarCollapsed ? <ChevronRight size={16} /> : <ChevronDown size={16} />}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Quick Actions */}\r\n                {!sidebarCollapsed && (\r\n                    <div className=\"p-3\">\r\n                        <button \r\n                            onClick={() => setShowCreateModal(true)}\r\n                            className=\"w-full flex items-center gap-2 px-3 py-2.5 bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-500 hover:to-cyan-500 rounded-lg font-medium text-sm transition-all\"\r\n                        >\r\n                            <Plus size={16} />\r\n                            New Task\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Navigation */}\r\n                <nav className=\"flex-1 p-2 space-y-1 overflow-y-auto\">\r\n                    {projects.map(project => (\r\n                        <button\r\n                            key={project.id}\r\n                            onClick={() => setSelectedProject(project.id)}\r\n                            className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all ${\r\n                                selectedProject === project.id \r\n                                    ? 'bg-purple-500/20 text-purple-300 border border-purple-500/30' \r\n                                    : 'text-gray-400 hover:bg-gray-800 hover:text-white'\r\n                            }`}\r\n                        >\r\n                            <project.icon size={16} className={selectedProject === project.id ? `text-${project.color}-400` : ''} />\r\n                            {!sidebarCollapsed && project.name}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n\r\n                {/* Google Tasks Sync Section */}\r\n                {!sidebarCollapsed && showGoogleSync && (\r\n                    <div className=\"p-3 border-t border-gray-800\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Google Tasks</span>\r\n                            <Link to=\"/google\" className=\"text-xs text-purple-400 hover:text-purple-300 flex items-center gap-1\">\r\n                                View All <ExternalLink size={10} />\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"space-y-1\">\r\n                            {googleTasks.slice(0, 3).map((task, idx) => (\r\n                                <div key={idx} className=\"flex items-center gap-2 p-2 bg-gray-800/50 rounded-lg text-xs\">\r\n                                    <Circle size={12} className=\"text-red-400\" />\r\n                                    <span className=\"truncate text-gray-300\">{task.title}</span>\r\n                                </div>\r\n                            ))}\r\n                            {googleTasks.length === 0 && (\r\n                                <div className=\"text-xs text-gray-600 text-center py-2\">No Google Tasks</div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* AI Assistant Button */}\r\n                {!sidebarCollapsed && (\r\n                    <div className=\"p-3 border-t border-gray-800\">\r\n                        <button \r\n                            onClick={() => setShowAIPanel(!showAIPanel)}\r\n                            className=\"w-full flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-900/50 to-cyan-900/50 hover:from-purple-800/50 hover:to-cyan-800/50 border border-purple-500/30 rounded-lg text-sm transition-all\"\r\n                        >\r\n                            <Sparkles size={16} className=\"text-purple-400\" />\r\n                            <span>AI Assistant</span>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                {/* Top Bar */}\r\n                <div className=\"h-14 border-b border-gray-800 flex items-center justify-between px-6 bg-gray-900/30\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <h2 className=\"font-semibold text-lg\">\r\n                            {projects.find(p => p.id === selectedProject)?.name || 'All Tasks'}\r\n                        </h2>\r\n                        <div className=\"flex items-center gap-1 bg-gray-800 rounded-lg p-1\">\r\n                            {[\r\n                                { id: 'board', icon: LayoutGrid, label: 'Board' },\r\n                                { id: 'list', icon: List, label: 'List' }\r\n                            ].map(view => (\r\n                                <button\r\n                                    key={view.id}\r\n                                    onClick={() => setActiveView(view.id)}\r\n                                    className={`p-1.5 rounded-md transition-all ${\r\n                                        activeView === view.id ? 'bg-purple-600 text-white' : 'text-gray-400 hover:text-white'\r\n                                    }`}\r\n                                    title={view.label}\r\n                                >\r\n                                    <view.icon size={16} />\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {/* Search */}\r\n                        <div className=\"relative\">\r\n                            <Search size={14} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                placeholder=\"Search tasks...\"\r\n                                className=\"w-48 pl-9 pr-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg text-sm focus:border-purple-500 outline-none\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Filter */}\r\n                        <select\r\n                            value={filterStatus}\r\n                            onChange={(e) => setFilterStatus(e.target.value)}\r\n                            className=\"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg text-sm focus:border-purple-500 outline-none\"\r\n                        >\r\n                            <option value=\"all\">All Status</option>\r\n                            <option value=\"todo\">To Do</option>\r\n                            <option value=\"in_progress\">In Progress</option>\r\n                            <option value=\"completed\">Completed</option>\r\n                        </select>\r\n\r\n                        {/* Refresh */}\r\n                        <button \r\n                            onClick={loadTasks}\r\n                            disabled={loading}\r\n                            className=\"p-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors\"\r\n                        >\r\n                            <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content Area */}\r\n                <div className=\"flex-1 overflow-auto p-6\">\r\n                    {/* AI Panel */}\r\n                    {showAIPanel && (\r\n                        <div className=\"mb-6 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-xl p-5\">\r\n                            <div className=\"flex items-center justify-between mb-4\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-cyan-500 flex items-center justify-center\">\r\n                                        <Sparkles size={20} className=\"text-white\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold\">AI Task Breakdown</h3>\r\n                                        <p className=\"text-xs text-gray-400\">Describe your goal and let AI create subtasks</p>\r\n                                    </div>\r\n                                </div>\r\n                                <button onClick={() => setShowAIPanel(false)} className=\"p-1 hover:bg-gray-800 rounded\">\r\n                                    <X size={16} />\r\n                                </button>\r\n                            </div>\r\n                            <textarea\r\n                                value={aiPrompt}\r\n                                onChange={(e) => setAiPrompt(e.target.value)}\r\n                                placeholder=\"E.g., Build a security audit workflow for web applications...\"\r\n                                className=\"w-full bg-black/50 border border-purple-500/30 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none mb-3 h-24 resize-none text-sm\"\r\n                            />\r\n                            <button\r\n                                onClick={breakdownWithAI}\r\n                                disabled={loading || !aiPrompt.trim()}\r\n                                className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-500 hover:to-cyan-500 rounded-lg font-medium text-sm transition-all disabled:opacity-50\"\r\n                            >\r\n                                {loading ? 'Analyzing...' : 'Ô£¿ Generate Breakdown'}\r\n                            </button>\r\n                            {aiResponse && (\r\n                                <div className=\"mt-4 bg-black/50 border border-purple-500/20 rounded-lg p-4\">\r\n                                    <pre className=\"text-sm text-gray-300 whitespace-pre-wrap font-mono\">{aiResponse}</pre>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Stats Row */}\r\n                    <div className=\"grid grid-cols-4 gap-4 mb-6\">\r\n                        {[\r\n                            { label: 'Total Tasks', value: tasks.length, icon: ListTodo, color: 'purple' },\r\n                            { label: 'To Do', value: tasksByStatus.todo.length, icon: Circle, color: 'gray' },\r\n                            { label: 'In Progress', value: tasksByStatus.in_progress.length, icon: Play, color: 'blue' },\r\n                            { label: 'Completed', value: tasksByStatus.completed.length, icon: CheckCircle, color: 'green' }\r\n                        ].map((stat, idx) => (\r\n                            <div key={idx} className=\"bg-gray-900/50 border border-gray-800 rounded-xl p-4\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div>\r\n                                        <p className=\"text-xs text-gray-500\">{stat.label}</p>\r\n                                        <p className=\"text-2xl font-bold mt-1\">{stat.value}</p>\r\n                                    </div>\r\n                                    <div className={`w-10 h-10 rounded-lg bg-${stat.color}-500/10 flex items-center justify-center`}>\r\n                                        <stat.icon size={20} className={`text-${stat.color}-400`} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Board View */}\r\n                    {activeView === 'board' && (\r\n                        <div className=\"flex gap-6 overflow-x-auto pb-4\">\r\n                            <KanbanColumn title=\"To Do\" status=\"todo\" tasks={tasksByStatus.todo} color=\"gray\" icon={Circle} />\r\n                            <KanbanColumn title=\"In Progress\" status=\"in_progress\" tasks={tasksByStatus.in_progress} color=\"blue\" icon={Play} />\r\n                            <KanbanColumn title=\"Completed\" status=\"completed\" tasks={tasksByStatus.completed} color=\"green\" icon={CheckCircle} />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* List View */}\r\n                    {activeView === 'list' && (\r\n                        <div className=\"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden\">\r\n                            <div className=\"grid grid-cols-12 gap-4 p-3 bg-gray-800/50 text-xs font-medium text-gray-400 uppercase tracking-wide\">\r\n                                <div className=\"col-span-1\">Status</div>\r\n                                <div className=\"col-span-5\">Task</div>\r\n                                <div className=\"col-span-2\">Priority</div>\r\n                                <div className=\"col-span-2\">Due Date</div>\r\n                                <div className=\"col-span-2\">Actions</div>\r\n                            </div>\r\n                            <div className=\"divide-y divide-gray-800\">\r\n                                {filteredTasks.map((task, idx) => (\r\n                                    <div key={task.id || task.dart_id || idx} className=\"grid grid-cols-12 gap-4 p-3 hover:bg-gray-800/30 transition-colors items-center\">\r\n                                        <div className=\"col-span-1\">\r\n                                            <button onClick={() => toggleTaskStatus(task.id || task.dart_id, task.status)}>\r\n                                                {task.status === 'completed' ? (\r\n                                                    <CheckCircle size={18} className=\"text-green-400\" />\r\n                                                ) : (\r\n                                                    <Circle size={18} className=\"text-gray-500 hover:text-purple-400 transition-colors\" />\r\n                                                )}\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"col-span-5\">\r\n                                            <p className={`font-medium text-sm ${task.status === 'completed' ? 'text-gray-500 line-through' : 'text-white'}`}>\r\n                                                {task.title}\r\n                                            </p>\r\n                                            {task.description && <p className=\"text-xs text-gray-500 truncate\">{task.description}</p>}\r\n                                        </div>\r\n                                        <div className=\"col-span-2\">\r\n                                            <span className={`text-xs px-2 py-1 rounded-full border ${getPriorityColor(task.priority)}`}>\r\n                                                {(task.priority || 'Medium').toUpperCase()}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"col-span-2 text-sm text-gray-400\">\r\n                                            {task.dueDate ? new Date(task.dueDate).toLocaleDateString() : '-'}\r\n                                        </div>\r\n                                        <div className=\"col-span-2 flex items-center gap-2\">\r\n                                            <button className=\"p-1.5 hover:bg-gray-700 rounded transition-colors\">\r\n                                                <Edit3 size={14} className=\"text-gray-400\" />\r\n                                            </button>\r\n                                            <button className=\"p-1.5 hover:bg-gray-700 rounded transition-colors\">\r\n                                                <Trash2 size={14} className=\"text-gray-400\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                {filteredTasks.length === 0 && (\r\n                                    <div className=\"text-center py-12 text-gray-500\">\r\n                                        <ListTodo size={48} className=\"mx-auto mb-3 opacity-50\" />\r\n                                        <p>No tasks found</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Create Task Modal */}\r\n            {showCreateModal && (\r\n                <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50\">\r\n                    <div className=\"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h2 className=\"text-xl font-bold\">Create New Task</h2>\r\n                            <button onClick={() => setShowCreateModal(false)} className=\"p-2 hover:bg-gray-800 rounded-lg\">\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={createTask} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1 block\">Title</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newTask.title}\r\n                                    onChange={(e) => setNewTask({ ...newTask, title: e.target.value })}\r\n                                    placeholder=\"What needs to be done?\"\r\n                                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none\"\r\n                                    autoFocus\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1 block\">Description</label>\r\n                                <textarea\r\n                                    value={newTask.description}\r\n                                    onChange={(e) => setNewTask({ ...newTask, description: e.target.value })}\r\n                                    placeholder=\"Add more details...\"\r\n                                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:border-purple-500 outline-none h-24 resize-none\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1 block\">Priority</label>\r\n                                    <select\r\n                                        value={newTask.priority}\r\n                                        onChange={(e) => setNewTask({ ...newTask, priority: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none\"\r\n                                    >\r\n                                        <option value=\"low\">­ƒƒó Low</option>\r\n                                        <option value=\"medium\">­ƒƒí Medium</option>\r\n                                        <option value=\"high\">­ƒö┤ High</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"text-xs font-medium text-gray-400 uppercase tracking-wide mb-1 block\">Due Date</label>\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        value={newTask.dueDate}\r\n                                        onChange={(e) => setNewTask({ ...newTask, dueDate: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-purple-500 outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end gap-3 pt-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowCreateModal(false)}\r\n                                    className=\"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={loading || !newTask.title.trim()}\r\n                                    className=\"px-6 py-2 bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-500 hover:to-cyan-500 rounded-lg font-medium transition-all disabled:opacity-50\"\r\n                                >\r\n                                    Create Task\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Task Detail Modal */}\r\n            {selectedTask && (\r\n                <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn\">\r\n                    <div className=\"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-lg p-6 shadow-2xl transform animate-slideUp\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className={`w-3 h-3 rounded-full ${\r\n                                    selectedTask.status === 'completed' ? 'bg-green-500' :\r\n                                    selectedTask.status === 'in_progress' ? 'bg-blue-500 animate-pulse' :\r\n                                    'bg-gray-500'\r\n                                }`} />\r\n                                <h2 className=\"text-xl font-bold\">{selectedTask.title}</h2>\r\n                            </div>\r\n                            <button \r\n                                onClick={() => setSelectedTask(null)} \r\n                                className=\"p-2 hover:bg-gray-800 rounded-lg transition-colors\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Status Buttons */}\r\n                        <div className=\"flex gap-2 mb-6\">\r\n                            {[\r\n                                { status: 'todo', label: 'To Do', icon: Circle, color: 'gray' },\r\n                                { status: 'in_progress', label: 'In Progress', icon: Play, color: 'blue' },\r\n                                { status: 'completed', label: 'Completed', icon: CheckCircle, color: 'green' }\r\n                            ].map(({ status, label, icon: StatusIcon, color }) => (\r\n                                <button\r\n                                    key={status}\r\n                                    onClick={() => setTaskStatus(selectedTask.id || selectedTask.dart_id, status)}\r\n                                    className={`\r\n                                        flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium\r\n                                        transition-all duration-200 transform hover:scale-[1.02] active:scale-95\r\n                                        ${selectedTask.status === status \r\n                                            ? `bg-${color}-500/30 border-2 border-${color}-500 text-${color}-300 shadow-lg shadow-${color}-500/20` \r\n                                            : 'bg-gray-800 border-2 border-gray-700 text-gray-400 hover:border-gray-600 hover:text-white'\r\n                                        }\r\n                                        ${isUpdating === (selectedTask.id || selectedTask.dart_id) ? 'animate-pulse' : ''}\r\n                                    `}\r\n                                >\r\n                                    <StatusIcon size={18} />\r\n                                    <span className=\"text-sm\">{label}</span>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Task Details */}\r\n                        <div className=\"space-y-4 mb-6\">\r\n                            {selectedTask.description && (\r\n                                <div>\r\n                                    <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide block mb-1\">Description</label>\r\n                                    <p className=\"text-gray-300 bg-gray-800/50 rounded-lg p-3\">{selectedTask.description}</p>\r\n                                </div>\r\n                            )}\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide block mb-1\">Priority</label>\r\n                                    <span className={`inline-block px-3 py-1.5 rounded-lg font-medium text-sm ${getPriorityColor(selectedTask.priority)}`}>\r\n                                        {selectedTask.priority === 'high' ? '­ƒö┤ High' : \r\n                                         selectedTask.priority === 'medium' ? '­ƒƒí Medium' : \r\n                                         '­ƒƒó Low'}\r\n                                    </span>\r\n                                </div>\r\n                                {selectedTask.dueDate && (\r\n                                    <div>\r\n                                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide block mb-1\">Due Date</label>\r\n                                        <span className=\"text-gray-300 flex items-center gap-2\">\r\n                                            <Calendar size={16} />\r\n                                            {new Date(selectedTask.dueDate).toLocaleDateString()}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex justify-between items-center pt-4 border-t border-gray-800\">\r\n                            <span className=\"text-xs text-gray-600\">\r\n                                ID: {(selectedTask.id || selectedTask.dart_id || 'N/A').slice(0, 12)}\r\n                            </span>\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => setSelectedTask(null)}\r\n                                    className=\"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-colors\"\r\n                                >\r\n                                    Close\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DartAI;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\Dashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\FineTuningDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\GlobalChat.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\GoogleServicesPage.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  66 |\n  67 |     useEffect(() => {\n> 68 |         fetchGoogleStatus();\n     |         ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  69 |         fetchAllData();\n  70 |         const interval = setInterval(fetchAllData, 60000); // Refresh every minute\n  71 |         return () => clearInterval(interval);","line":68,"column":9,"nodeType":null,"endLine":68,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    Calendar, Mail, Folder, RefreshCw, ChevronRight, Clock, \r\n    Star, Inbox, Send, Trash2, FileText, Image, Video, Archive,\r\n    Download, Eye, ExternalLink, Search, Filter, Plus, Settings,\r\n    CheckCircle, AlertCircle, User, Users, MapPin, Link2\r\n} from 'lucide-react';\r\nimport { API_URL } from './config';\r\n\r\nconst GoogleServicesPage = () => {\r\n    // State\r\n    const [activeTab, setActiveTab] = useState('calendar');\r\n    const [loading, setLoading] = useState(false);\r\n    const [googleStatus, setGoogleStatus] = useState({});\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    \r\n    // Google Data\r\n    const [events, setEvents] = useState([]);\r\n    const [emails, setEmails] = useState([]);\r\n    const [files, setFiles] = useState([]);\r\n    const [tasks, setTasks] = useState([]);\r\n    \r\n    // Selection states\r\n    const [selectedEmail, setSelectedEmail] = useState(null);\r\n    const [selectedEvent, setSelectedEvent] = useState(null);\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n    const ACCOUNTS = ['th3thirty3@gmail.com', 'mikegauthierguillet@gmail.com', 'mgauthierguillet@gmail.com'];\r\n\r\n    // Fetch Google Status\r\n    const fetchGoogleStatus = useCallback(async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/google/status`);\r\n            const data = await res.json();\r\n            setGoogleStatus(data || {});\r\n        } catch (err) {\r\n            console.error('Error fetching Google status:', err);\r\n        }\r\n    }, []);\r\n\r\n    // Fetch All Google Data\r\n    const fetchAllData = useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const [eventsRes, emailsRes, filesRes, tasksRes] = await Promise.all([\r\n                fetch(`${API_URL}/google/calendar`).catch(() => ({ json: () => ({ events: [] }) })),\r\n                fetch(`${API_URL}/google/emails`).catch(() => ({ json: () => ({ emails: [] }) })),\r\n                fetch(`${API_URL}/google/drive`).catch(() => ({ json: () => ({ files: [] }) })),\r\n                fetch(`${API_URL}/google/tasks`).catch(() => ({ json: () => ({ tasks: [] }) }))\r\n            ]);\r\n\r\n            const eventsData = await eventsRes.json();\r\n            const emailsData = await emailsRes.json();\r\n            const filesData = await filesRes.json();\r\n            const tasksData = await tasksRes.json();\r\n\r\n            setEvents(eventsData.events || []);\r\n            setEmails(emailsData.emails || []);\r\n            setFiles(filesData.files || []);\r\n            setTasks(tasksData.tasks || []);\r\n        } catch (err) {\r\n            console.error('Error fetching Google data:', err);\r\n        }\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchGoogleStatus();\r\n        fetchAllData();\r\n        const interval = setInterval(fetchAllData, 60000); // Refresh every minute\r\n        return () => clearInterval(interval);\r\n    }, [fetchGoogleStatus, fetchAllData]);\r\n\r\n    // Connect Google Account\r\n    const connectGoogle = (email) => {\r\n        window.open(`${API_URL}/auth/google?email=${email}`, '_blank', 'width=500,height=600');\r\n    };\r\n\r\n    // Complete/Uncomplete a Google Task\r\n    const completeGoogleTask = async (taskId, isCompleted) => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/google/tasks/${taskId}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ completed: !isCompleted })\r\n            });\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                // Update local state\r\n                setTasks(prev => prev.map(t => \r\n                    t.id === taskId \r\n                        ? { ...t, status: !isCompleted ? 'completed' : 'needsAction' }\r\n                        : t\r\n                ));\r\n            }\r\n        } catch (err) {\r\n            console.error('Error completing task:', err);\r\n        }\r\n    };\r\n\r\n    // Format date helper\r\n    const formatDate = (dateStr) => {\r\n        if (!dateStr) return '';\r\n        const date = new Date(dateStr);\r\n        return date.toLocaleDateString('fr-CA', { \r\n            weekday: 'short', \r\n            month: 'short', \r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    // Get file icon based on mime type\r\n    const getFileIcon = (mimeType) => {\r\n        if (mimeType?.includes('folder')) return <Folder className=\"text-yellow-400\" size={18} />;\r\n        if (mimeType?.includes('image')) return <Image className=\"text-pink-400\" size={18} />;\r\n        if (mimeType?.includes('video')) return <Video className=\"text-purple-400\" size={18} />;\r\n        if (mimeType?.includes('document') || mimeType?.includes('text')) return <FileText className=\"text-blue-400\" size={18} />;\r\n        return <FileText className=\"text-gray-400\" size={18} />;\r\n    };\r\n\r\n    // Tab configuration\r\n    const tabs = [\r\n        { id: 'calendar', label: 'CALENDAR', icon: Calendar, color: 'purple', count: events.length },\r\n        { id: 'gmail', label: 'GMAIL', icon: Mail, color: 'red', count: emails.length },\r\n        { id: 'drive', label: 'DRIVE', icon: Folder, color: 'yellow', count: files.length },\r\n        { id: 'tasks', label: 'TASKS', icon: CheckCircle, color: 'green', count: tasks.length }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"google-services-page h-full w-full flex flex-col bg-transparent text-white overflow-hidden\">\r\n            {/* HEADER */}\r\n            <div className=\"flex justify-between items-center border-b border-gray-800 px-6 py-4 flex-shrink-0 bg-black/30 backdrop-blur-md\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 via-red-500 to-yellow-500 flex items-center justify-center shadow-lg\">\r\n                            <span className=\"text-white font-bold text-lg\">G</span>\r\n                        </div>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-400 via-red-400 to-yellow-400 bg-clip-text text-transparent\">\r\n                                Google Services\r\n                            </h1>\r\n                            <p className=\"text-gray-500 text-xs font-mono\">Workspace Integration Hub</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    {/* Account Status */}\r\n                    <div className=\"flex gap-2\">\r\n                        {ACCOUNTS.map(email => (\r\n                            <button\r\n                                key={email}\r\n                                onClick={() => !googleStatus[email] && connectGoogle(email)}\r\n                                className={`text-xs px-3 py-1.5 rounded-lg border transition-all ${\r\n                                    googleStatus[email]\r\n                                        ? 'bg-green-900/30 border-green-600 text-green-400 cursor-default'\r\n                                        : 'bg-red-900/20 border-red-800 text-red-400 hover:bg-red-900/40 cursor-pointer'\r\n                                }`}\r\n                                title={email}\r\n                            >\r\n                                {email.split('@')[0]} {googleStatus[email] ? 'Ô£ô' : 'Ô£ù'}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Refresh Button */}\r\n                    <button \r\n                        onClick={fetchAllData}\r\n                        className=\"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg text-sm border border-gray-700 transition-all\"\r\n                    >\r\n                        <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n                        SYNC\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* TAB NAVIGATION */}\r\n            <div className=\"flex gap-1 px-6 py-3 bg-black/20 border-b border-gray-800 flex-shrink-0\">\r\n                {tabs.map(tab => {\r\n                    const Icon = tab.icon;\r\n                    const isActive = activeTab === tab.id;\r\n                    return (\r\n                        <button\r\n                            key={tab.id}\r\n                            onClick={() => setActiveTab(tab.id)}\r\n                            className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                                isActive\r\n                                    ? `bg-${tab.color}-900/50 text-${tab.color}-400 border border-${tab.color}-700`\r\n                                    : 'text-gray-400 hover:text-white hover:bg-gray-800/50'\r\n                            }`}\r\n                            style={isActive ? {\r\n                                backgroundColor: `rgba(var(--${tab.color}-900), 0.5)`,\r\n                                borderColor: `var(--${tab.color}-700)`\r\n                            } : {}}\r\n                        >\r\n                            <Icon size={16} />\r\n                            {tab.label}\r\n                            <span className={`ml-1 px-2 py-0.5 rounded-full text-xs ${\r\n                                isActive ? 'bg-white/10' : 'bg-gray-800'\r\n                            }`}>\r\n                                {tab.count}\r\n                            </span>\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* MAIN CONTENT */}\r\n            <div className=\"flex-1 flex overflow-hidden p-4 gap-4 min-h-0\">\r\n                \r\n                {/* ===== CALENDAR TAB ===== */}\r\n                {activeTab === 'calendar' && (\r\n                    <>\r\n                        {/* Events List */}\r\n                        <div className=\"w-1/3 bg-gray-900/50 border border-purple-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-purple-900/30 bg-purple-900/20\">\r\n                                <div className=\"flex items-center gap-2 text-purple-400\">\r\n                                    <Calendar size={18} />\r\n                                    <h3 className=\"font-bold\">Upcoming Events</h3>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex-1 overflow-y-auto p-2 space-y-2\">\r\n                                {events.length === 0 ? (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Calendar size={48} className=\"mb-3 opacity-30\" />\r\n                                        <p>No upcoming events</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    events.map((event, idx) => (\r\n                                        <div\r\n                                            key={event.id || idx}\r\n                                            onClick={() => setSelectedEvent(event)}\r\n                                            className={`p-3 rounded-lg cursor-pointer transition-all ${\r\n                                                selectedEvent?.id === event.id\r\n                                                    ? 'bg-purple-900/50 border border-purple-500'\r\n                                                    : 'bg-black/30 border border-gray-800 hover:border-purple-700'\r\n                                            }`}\r\n                                        >\r\n                                            <h4 className=\"text-white font-medium text-sm truncate\">\r\n                                                {event.summary || 'Untitled Event'}\r\n                                            </h4>\r\n                                            <div className=\"flex items-center gap-2 mt-2 text-xs text-gray-400\">\r\n                                                <Clock size={12} />\r\n                                                {formatDate(event.start?.dateTime || event.start?.date)}\r\n                                            </div>\r\n                                            {event.location && (\r\n                                                <div className=\"flex items-center gap-2 mt-1 text-xs text-gray-500\">\r\n                                                    <MapPin size={12} />\r\n                                                    <span className=\"truncate\">{event.location}</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Event Details */}\r\n                        <div className=\"flex-1 bg-gray-900/50 border border-purple-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-purple-900/30 bg-purple-900/20\">\r\n                                <h3 className=\"font-bold text-purple-400\">Event Details</h3>\r\n                            </div>\r\n                            <div className=\"flex-1 p-6 overflow-y-auto\">\r\n                                {selectedEvent ? (\r\n                                    <div className=\"space-y-6\">\r\n                                        <div>\r\n                                            <h2 className=\"text-2xl font-bold text-white mb-2\">\r\n                                                {selectedEvent.summary || 'Untitled Event'}\r\n                                            </h2>\r\n                                            <div className=\"flex items-center gap-4 text-gray-400\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <Clock size={16} />\r\n                                                    {formatDate(selectedEvent.start?.dateTime || selectedEvent.start?.date)}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {selectedEvent.location && (\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <div className=\"flex items-center gap-2 text-gray-400 mb-2\">\r\n                                                    <MapPin size={16} />\r\n                                                    <span className=\"font-medium\">Location</span>\r\n                                                </div>\r\n                                                <p className=\"text-white\">{selectedEvent.location}</p>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {selectedEvent.description && (\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <h4 className=\"text-gray-400 mb-2 font-medium\">Description</h4>\r\n                                                <p className=\"text-gray-300 text-sm whitespace-pre-wrap\">\r\n                                                    {selectedEvent.description}\r\n                                                </p>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {selectedEvent.attendees && selectedEvent.attendees.length > 0 && (\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <div className=\"flex items-center gap-2 text-gray-400 mb-3\">\r\n                                                    <Users size={16} />\r\n                                                    <span className=\"font-medium\">Attendees ({selectedEvent.attendees.length})</span>\r\n                                                </div>\r\n                                                <div className=\"space-y-2\">\r\n                                                    {selectedEvent.attendees.map((att, i) => (\r\n                                                        <div key={i} className=\"flex items-center gap-2 text-sm\">\r\n                                                            <User size={14} className=\"text-gray-500\" />\r\n                                                            <span className=\"text-gray-300\">{att.email}</span>\r\n                                                            {att.responseStatus === 'accepted' && (\r\n                                                                <CheckCircle size={12} className=\"text-green-400\" />\r\n                                                            )}\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {selectedEvent.htmlLink && (\r\n                                            <a\r\n                                                href={selectedEvent.htmlLink}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"inline-flex items-center gap-2 bg-purple-900/50 hover:bg-purple-800 text-purple-300 px-4 py-2 rounded-lg border border-purple-700 transition-all\"\r\n                                            >\r\n                                                <ExternalLink size={16} />\r\n                                                Open in Google Calendar\r\n                                            </a>\r\n                                        )}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Calendar size={64} className=\"mb-4 opacity-20\" />\r\n                                        <p className=\"text-lg\">Select an event to view details</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {/* ===== GMAIL TAB ===== */}\r\n                {activeTab === 'gmail' && (\r\n                    <>\r\n                        {/* Email List */}\r\n                        <div className=\"w-1/3 bg-gray-900/50 border border-red-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-red-900/30 bg-red-900/20\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-2 text-red-400\">\r\n                                        <Mail size={18} />\r\n                                        <h3 className=\"font-bold\">Inbox</h3>\r\n                                    </div>\r\n                                    <div className=\"flex gap-1\">\r\n                                        <button className=\"p-1.5 rounded hover:bg-red-900/50 text-gray-400 hover:text-red-400\">\r\n                                            <Inbox size={14} />\r\n                                        </button>\r\n                                        <button className=\"p-1.5 rounded hover:bg-red-900/50 text-gray-400 hover:text-red-400\">\r\n                                            <Star size={14} />\r\n                                        </button>\r\n                                        <button className=\"p-1.5 rounded hover:bg-red-900/50 text-gray-400 hover:text-red-400\">\r\n                                            <Send size={14} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex-1 overflow-y-auto\">\r\n                                {emails.length === 0 ? (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Mail size={48} className=\"mb-3 opacity-30\" />\r\n                                        <p>No emails found</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    emails.map((email, idx) => (\r\n                                        <div\r\n                                            key={email.id || idx}\r\n                                            onClick={() => setSelectedEmail(email)}\r\n                                            className={`p-4 border-b border-gray-800 cursor-pointer transition-all ${\r\n                                                selectedEmail?.id === email.id\r\n                                                    ? 'bg-red-900/30 border-l-2 border-l-red-500'\r\n                                                    : 'hover:bg-gray-800/50'\r\n                                            }`}\r\n                                        >\r\n                                            <div className=\"flex items-start justify-between gap-2\">\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <p className=\"text-white font-medium text-sm truncate\">\r\n                                                        {email.from?.split('<')[0]?.trim() || 'Unknown Sender'}\r\n                                                    </p>\r\n                                                    <p className=\"text-gray-300 text-sm truncate mt-1\">\r\n                                                        {email.subject || 'No Subject'}\r\n                                                    </p>\r\n                                                    <p className=\"text-gray-500 text-xs truncate mt-1\">\r\n                                                        {email.snippet || ''}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <span className=\"text-xs text-gray-500 whitespace-nowrap\">\r\n                                                    {email.date ? new Date(email.date).toLocaleDateString('fr-CA', { month: 'short', day: 'numeric' }) : ''}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Email Content */}\r\n                        <div className=\"flex-1 bg-gray-900/50 border border-red-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-red-900/30 bg-red-900/20 flex items-center justify-between\">\r\n                                <h3 className=\"font-bold text-red-400\">Message</h3>\r\n                                {selectedEmail && (\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button className=\"p-1.5 rounded hover:bg-red-900/50 text-gray-400\">\r\n                                            <Archive size={16} />\r\n                                        </button>\r\n                                        <button className=\"p-1.5 rounded hover:bg-red-900/50 text-gray-400\">\r\n                                            <Trash2 size={16} />\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"flex-1 p-6 overflow-y-auto\">\r\n                                {selectedEmail ? (\r\n                                    <div className=\"space-y-4\">\r\n                                        <div className=\"border-b border-gray-800 pb-4\">\r\n                                            <h2 className=\"text-xl font-bold text-white mb-3\">\r\n                                                {selectedEmail.subject || 'No Subject'}\r\n                                            </h2>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center\">\r\n                                                    <User size={20} className=\"text-white\" />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <p className=\"text-white font-medium\">\r\n                                                        {selectedEmail.from?.split('<')[0]?.trim() || 'Unknown'}\r\n                                                    </p>\r\n                                                    <p className=\"text-gray-500 text-xs\">\r\n                                                        {selectedEmail.from?.match(/<(.+)>/)?.[1] || selectedEmail.from}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <span className=\"ml-auto text-xs text-gray-500\">\r\n                                                    {selectedEmail.date ? formatDate(selectedEmail.date) : ''}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap\">\r\n                                            {selectedEmail.body || selectedEmail.snippet || 'No content available'}\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Mail size={64} className=\"mb-4 opacity-20\" />\r\n                                        <p className=\"text-lg\">Select an email to read</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {/* ===== DRIVE TAB ===== */}\r\n                {activeTab === 'drive' && (\r\n                    <>\r\n                        {/* Files List */}\r\n                        <div className=\"w-2/5 bg-gray-900/50 border border-yellow-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-yellow-900/30 bg-yellow-900/20\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-2 text-yellow-400\">\r\n                                        <Folder size={18} />\r\n                                        <h3 className=\"font-bold\">My Drive</h3>\r\n                                    </div>\r\n                                    <button className=\"p-1.5 rounded hover:bg-yellow-900/50 text-yellow-400\">\r\n                                        <Plus size={16} />\r\n                                    </button>\r\n                                </div>\r\n                                {/* Search */}\r\n                                <div className=\"mt-3 relative\">\r\n                                    <Search size={14} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Search files...\"\r\n                                        value={searchQuery}\r\n                                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                                        className=\"w-full bg-black/50 border border-gray-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white focus:border-yellow-600 outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\r\n                                {files.length === 0 ? (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Folder size={48} className=\"mb-3 opacity-30\" />\r\n                                        <p>No files found</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    files\r\n                                        .filter(f => !searchQuery || f.name?.toLowerCase().includes(searchQuery.toLowerCase()))\r\n                                        .map((file, idx) => (\r\n                                            <div\r\n                                                key={file.id || idx}\r\n                                                onClick={() => setSelectedFile(file)}\r\n                                                className={`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all ${\r\n                                                    selectedFile?.id === file.id\r\n                                                        ? 'bg-yellow-900/30 border border-yellow-600'\r\n                                                        : 'hover:bg-gray-800/50 border border-transparent'\r\n                                                }`}\r\n                                            >\r\n                                                {getFileIcon(file.mimeType)}\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <p className=\"text-white text-sm truncate\">{file.name}</p>\r\n                                                    <p className=\"text-gray-500 text-xs\">\r\n                                                        {file.modifiedTime ? new Date(file.modifiedTime).toLocaleDateString() : ''}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <ChevronRight size={16} className=\"text-gray-600\" />\r\n                                            </div>\r\n                                        ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* File Details */}\r\n                        <div className=\"flex-1 bg-gray-900/50 border border-yellow-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                            <div className=\"p-4 border-b border-yellow-900/30 bg-yellow-900/20\">\r\n                                <h3 className=\"font-bold text-yellow-400\">File Details</h3>\r\n                            </div>\r\n                            <div className=\"flex-1 p-6 overflow-y-auto\">\r\n                                {selectedFile ? (\r\n                                    <div className=\"space-y-6\">\r\n                                        <div className=\"flex items-start gap-4\">\r\n                                            <div className=\"w-16 h-16 rounded-xl bg-yellow-900/30 flex items-center justify-center border border-yellow-700\">\r\n                                                {getFileIcon(selectedFile.mimeType)}\r\n                                            </div>\r\n                                            <div>\r\n                                                <h2 className=\"text-xl font-bold text-white\">{selectedFile.name}</h2>\r\n                                                <p className=\"text-gray-500 text-sm mt-1\">{selectedFile.mimeType}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"grid grid-cols-2 gap-4\">\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <p className=\"text-gray-500 text-xs mb-1\">Size</p>\r\n                                                <p className=\"text-white\">{selectedFile.size ? `${(selectedFile.size / 1024).toFixed(1)} KB` : 'N/A'}</p>\r\n                                            </div>\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <p className=\"text-gray-500 text-xs mb-1\">Modified</p>\r\n                                                <p className=\"text-white\">{selectedFile.modifiedTime ? new Date(selectedFile.modifiedTime).toLocaleDateString() : 'N/A'}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {selectedFile.owners && (\r\n                                            <div className=\"bg-black/30 p-4 rounded-lg border border-gray-800\">\r\n                                                <p className=\"text-gray-500 text-xs mb-2\">Owner</p>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <User size={14} className=\"text-gray-400\" />\r\n                                                    <span className=\"text-white\">{selectedFile.owners?.[0]?.displayName || 'Unknown'}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <div className=\"flex gap-3\">\r\n                                            {selectedFile.webViewLink && (\r\n                                                <a\r\n                                                    href={selectedFile.webViewLink}\r\n                                                    target=\"_blank\"\r\n                                                    rel=\"noopener noreferrer\"\r\n                                                    className=\"flex items-center gap-2 bg-yellow-900/50 hover:bg-yellow-800 text-yellow-300 px-4 py-2 rounded-lg border border-yellow-700 transition-all\"\r\n                                                >\r\n                                                    <Eye size={16} />\r\n                                                    View\r\n                                                </a>\r\n                                            )}\r\n                                            {selectedFile.webContentLink && (\r\n                                                <a\r\n                                                    href={selectedFile.webContentLink}\r\n                                                    target=\"_blank\"\r\n                                                    rel=\"noopener noreferrer\"\r\n                                                    className=\"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg border border-gray-700 transition-all\"\r\n                                                >\r\n                                                    <Download size={16} />\r\n                                                    Download\r\n                                                </a>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                        <Folder size={64} className=\"mb-4 opacity-20\" />\r\n                                        <p className=\"text-lg\">Select a file to view details</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {/* ===== TASKS TAB ===== */}\r\n                {activeTab === 'tasks' && (\r\n                    <div className=\"flex-1 bg-gray-900/50 border border-green-900/50 rounded-xl overflow-hidden flex flex-col\">\r\n                        <div className=\"p-4 border-b border-green-900/30 bg-green-900/20 flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-2 text-green-400\">\r\n                                <CheckCircle size={18} />\r\n                                <h3 className=\"font-bold\">Tasks</h3>\r\n                            </div>\r\n                            <button className=\"flex items-center gap-2 bg-green-900/50 hover:bg-green-800 text-green-300 px-3 py-1.5 rounded-lg border border-green-700 text-sm\">\r\n                                <Plus size={14} />\r\n                                Add Task\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"flex-1 overflow-y-auto p-4\">\r\n                            {tasks.length === 0 ? (\r\n                                <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                                    <CheckCircle size={64} className=\"mb-4 opacity-20\" />\r\n                                    <p className=\"text-lg\">No tasks found</p>\r\n                                    <p className=\"text-sm mt-2\">Create a task to get started</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-2\">\r\n                                    {tasks.map((task, idx) => (\r\n                                        <div\r\n                                            key={task.id || idx}\r\n                                            className={`flex items-center gap-3 p-4 bg-black/30 rounded-lg border transition-all cursor-pointer ${\r\n                                                task.status === 'completed' \r\n                                                    ? 'border-green-700/50 bg-green-900/10' \r\n                                                    : 'border-gray-800 hover:border-green-700'\r\n                                            }`}\r\n                                            onClick={() => completeGoogleTask(task.id, task.status === 'completed')}\r\n                                        >\r\n                                            <button \r\n                                                className=\"text-gray-500 hover:text-green-400 transition-colors\"\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    completeGoogleTask(task.id, task.status === 'completed');\r\n                                                }}\r\n                                            >\r\n                                                {task.status === 'completed' ? (\r\n                                                    <CheckCircle size={20} className=\"text-green-400\" />\r\n                                                ) : (\r\n                                                    <div className=\"w-5 h-5 rounded-full border-2 border-gray-600 hover:border-green-400 transition-colors\" />\r\n                                                )}\r\n                                            </button>\r\n                                            <div className=\"flex-1\">\r\n                                                <p className={`text-white transition-all ${\r\n                                                    task.status === 'completed' ? 'line-through opacity-50' : ''\r\n                                                }`}>\r\n                                                    {task.title || 'Untitled Task'}\r\n                                                </p>\r\n                                                {task.due && (\r\n                                                    <p className=\"text-gray-500 text-xs mt-1 flex items-center gap-1\">\r\n                                                        <Clock size={12} />\r\n                                                        Due: {new Date(task.due).toLocaleDateString()}\r\n                                                    </p>\r\n                                                )}\r\n                                                {task.notes && (\r\n                                                    <p className=\"text-gray-600 text-xs mt-1 truncate\">{task.notes}</p>\r\n                                                )}\r\n                                            </div>\r\n                                            {task.status === 'completed' && (\r\n                                                <span className=\"text-xs text-green-500 bg-green-900/30 px-2 py-1 rounded\">Done</span>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GoogleServicesPage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\KPIDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\LoginPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\NetworkStatus.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\OllamaTrainingDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\OpenNotebookPage.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  76 |\n  77 |     useEffect(() => {\n> 78 |         fetchDomains();\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  79 |         fetchLessons();\n  80 |     }, [fetchDomains, fetchLessons]);\n  81 |","line":78,"column":9,"nodeType":null,"endLine":78,"endColumn":21},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  82 |     useEffect(() => {\n  83 |         if (selectedDomain) {\n> 84 |             fetchDomainContent(selectedDomain);\n     |             ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  85 |         }\n  86 |     }, [selectedDomain, fetchDomainContent]);\n  87 |","line":84,"column":13,"nodeType":null,"endLine":84,"endColumn":31}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    BookOpen, Plus, Search, Upload, FileText, Mic, Brain, \r\n    Sparkles, Folder, ChevronRight, MessageSquare, Play, \r\n    Download, Settings, RefreshCw, Trash2, Edit3, Save,\r\n    ExternalLink, Podcast, Database, Tag, Clock, User,\r\n    Lightbulb, PenTool, Layers, Zap, BookMarked, Globe\r\n} from 'lucide-react';\r\nimport { API_URL } from './config';\r\n\r\nconst OpenNotebookPage = () => {\r\n    // State\r\n    const [loading, setLoading] = useState(false);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    \r\n    // Notebook LM Data\r\n    const [domains, setDomains] = useState([]);\r\n    const [selectedDomain, setSelectedDomain] = useState(null);\r\n    const [domainContent, setDomainContent] = useState([]);\r\n    const [lessons, setLessons] = useState([]);\r\n    \r\n    // Chat/Generation state\r\n    const [chatMessages, setChatMessages] = useState([]);\r\n    const [chatInput, setChatInput] = useState('');\r\n    const [generatingPodcast, setGeneratingPodcast] = useState(false);\r\n    const [generatingLesson, setGeneratingLesson] = useState(false);\r\n    \r\n    // New content form\r\n    const [showAddForm, setShowAddForm] = useState(false);\r\n    const [newContent, setNewContent] = useState({ title: '', content: '' });\r\n\r\n    // Fetch domains from NotebookLM service\r\n    const fetchDomains = useCallback(async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/notebooklm/domains`);\r\n            const data = await res.json();\r\n            setDomains(data.domains || []);\r\n        } catch (err) {\r\n            console.error('Error fetching domains:', err);\r\n            // Fallback domains\r\n            setDomains([\r\n                { name: 'osint', files: ['osint_fundamentals.json'], count: 5 },\r\n                { name: 'network', files: [], count: 0 },\r\n                { name: 'vuln', files: [], count: 0 },\r\n                { name: 'coding', files: [], count: 0 },\r\n                { name: 'custom', files: [], count: 0 }\r\n            ]);\r\n        }\r\n    }, []);\r\n\r\n    // Fetch domain content\r\n    const fetchDomainContent = useCallback(async (domain) => {\r\n        if (!domain) return;\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/notebooklm/${domain}`);\r\n            const data = await res.json();\r\n            setDomainContent(data.files || data.content || []);\r\n        } catch (err) {\r\n            console.error('Error fetching domain content:', err);\r\n            setDomainContent([]);\r\n        }\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    // Fetch cached lessons\r\n    const fetchLessons = useCallback(async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/notebooklm/lessons/${selectedDomain || 'all'}`);\r\n            const data = await res.json();\r\n            setLessons(data.lessons || data || []);\r\n        } catch (err) {\r\n            console.error('Error fetching lessons:', err);\r\n        }\r\n    }, [selectedDomain]);\r\n\r\n    useEffect(() => {\r\n        fetchDomains();\r\n        fetchLessons();\r\n    }, [fetchDomains, fetchLessons]);\r\n\r\n    useEffect(() => {\r\n        if (selectedDomain) {\r\n            fetchDomainContent(selectedDomain);\r\n        }\r\n    }, [selectedDomain, fetchDomainContent]);\r\n\r\n    // Generate Lesson\r\n    const generateLesson = async () => {\r\n        if (!selectedDomain) return;\r\n        setGeneratingLesson(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/notebooklm/${selectedDomain}/generate-lesson`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ topic: null })\r\n            });\r\n            const data = await res.json();\r\n            if (data.lesson) {\r\n                setLessons(prev => [...prev, data.lesson]);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error generating lesson:', err);\r\n        }\r\n        setGeneratingLesson(false);\r\n    };\r\n\r\n    // Generate Podcast Summary\r\n    const generatePodcast = async () => {\r\n        if (!selectedDomain) return;\r\n        setGeneratingPodcast(true);\r\n        try {\r\n            const res = await fetch(`${API_URL}/notebooklm/${selectedDomain}/podcast`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            const data = await res.json();\r\n            if (data.podcast) {\r\n                setChatMessages(prev => [...prev, {\r\n                    role: 'assistant',\r\n                    content: `­ƒÄÖ´©Å **Podcast Generated**\\n\\n${data.podcast.script || data.podcast}`\r\n                }]);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error generating podcast:', err);\r\n        }\r\n        setGeneratingPodcast(false);\r\n    };\r\n\r\n    // Add new content\r\n    const addContent = async () => {\r\n        if (!selectedDomain || !newContent.title.trim() || !newContent.content.trim()) return;\r\n        try {\r\n            await fetch(`${API_URL}/notebooklm/${selectedDomain}`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    title: newContent.title,\r\n                    content: newContent.content\r\n                })\r\n            });\r\n            setNewContent({ title: '', content: '' });\r\n            setShowAddForm(false);\r\n            fetchDomainContent(selectedDomain);\r\n        } catch (err) {\r\n            console.error('Error adding content:', err);\r\n        }\r\n    };\r\n\r\n    // Chat with content\r\n    const sendChatMessage = async () => {\r\n        if (!chatInput.trim()) return;\r\n        const userMessage = { role: 'user', content: chatInput };\r\n        setChatMessages(prev => [...prev, userMessage]);\r\n        setChatInput('');\r\n        \r\n        try {\r\n            const res = await fetch(`${API_URL}/chat`, {\r\n                method: 'POST',\r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'x-api-key': localStorage.getItem('th3_api_key') || ''\r\n                },\r\n                body: JSON.stringify({\r\n                    message: `[Context: NotebookLM domain \"${selectedDomain}\"]\\n\\n${chatInput}`,\r\n                    provider: 'gemini'\r\n                })\r\n            });\r\n            const data = await res.json();\r\n            setChatMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: data.response || 'Unable to get response'\r\n            }]);\r\n        } catch {\r\n            setChatMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: 'Error communicating with AI service'\r\n            }]);\r\n        }\r\n    };\r\n\r\n    // Domain icons mapping\r\n    const getDomainIcon = (name) => {\r\n        const icons = {\r\n            osint: Globe,\r\n            network: Zap,\r\n            vuln: Lightbulb,\r\n            coding: PenTool,\r\n            custom: Layers\r\n        };\r\n        return icons[name] || BookMarked;\r\n    };\r\n\r\n    const getDomainColor = (name) => {\r\n        const colors = {\r\n            osint: 'cyan',\r\n            network: 'purple',\r\n            vuln: 'red',\r\n            coding: 'green',\r\n            custom: 'yellow'\r\n        };\r\n        return colors[name] || 'gray';\r\n    };\r\n\r\n    return (\r\n        <div className=\"open-notebook-page h-full w-full flex flex-col bg-transparent text-white overflow-hidden\">\r\n            {/* HEADER */}\r\n            <div className=\"flex justify-between items-center border-b border-gray-800 px-6 py-4 flex-shrink-0 bg-black/30 backdrop-blur-md\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 via-pink-500 to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/20\">\r\n                            <BookOpen size={24} className=\"text-white\" />\r\n                        </div>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-orange-400 via-pink-400 to-purple-400 bg-clip-text text-transparent\">\r\n                                Open Notebook\r\n                            </h1>\r\n                            <p className=\"text-gray-500 text-xs font-mono\">Knowledge Management & AI Learning</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                    {/* Open Notebook External */}\r\n                    <a\r\n                        href=\"http://localhost:8502\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"flex items-center gap-2 bg-purple-900/30 hover:bg-purple-800/50 text-purple-300 px-4 py-2 rounded-lg text-sm border border-purple-700 transition-all\"\r\n                    >\r\n                        <ExternalLink size={16} />\r\n                        Open Full App\r\n                    </a>\r\n                    \r\n                    <button \r\n                        onClick={() => { fetchDomains(); fetchLessons(); }}\r\n                        className=\"flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg text-sm border border-gray-700 transition-all\"\r\n                    >\r\n                        <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n                        SYNC\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* MAIN CONTENT */}\r\n            <div className=\"flex-1 flex overflow-hidden min-h-0\">\r\n                \r\n                {/* LEFT SIDEBAR - Domains */}\r\n                <div className=\"w-64 bg-gray-900/50 border-r border-gray-800 flex flex-col flex-shrink-0\">\r\n                    <div className=\"p-4 border-b border-gray-800\">\r\n                        <h3 className=\"text-sm font-bold text-gray-400 uppercase tracking-wider mb-3\">Knowledge Domains</h3>\r\n                        <div className=\"relative\">\r\n                            <Search size={14} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search...\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => setSearchQuery(e.target.value)}\r\n                                className=\"w-full bg-black/50 border border-gray-700 rounded-lg pl-9 pr-3 py-2 text-sm text-white focus:border-purple-600 outline-none\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\r\n                        {domains.map((domain, idx) => {\r\n                            const DomainIcon = getDomainIcon(domain.name);\r\n                            const color = getDomainColor(domain.name);\r\n                            const isSelected = selectedDomain === domain.name;\r\n                            \r\n                            return (\r\n                                <button\r\n                                    key={domain.name || idx}\r\n                                    onClick={() => setSelectedDomain(domain.name)}\r\n                                    className={`w-full flex items-center gap-3 p-3 rounded-lg transition-all text-left ${\r\n                                        isSelected\r\n                                            ? `bg-${color}-900/50 border border-${color}-600`\r\n                                            : 'hover:bg-gray-800/50 border border-transparent'\r\n                                    }`}\r\n                                    style={isSelected ? {\r\n                                        backgroundColor: 'rgba(147, 51, 234, 0.2)',\r\n                                        borderColor: 'rgb(147, 51, 234)'\r\n                                    } : {}}\r\n                                >\r\n                                    <DomainIcon size={18} className={isSelected ? 'text-purple-400' : 'text-gray-500'} />\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"text-white font-medium capitalize text-sm\">{domain.name}</p>\r\n                                        <p className=\"text-gray-500 text-xs\">{domain.files?.length || 0} sources</p>\r\n                                    </div>\r\n                                    <ChevronRight size={14} className=\"text-gray-600\" />\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n\r\n                    {/* Quick Actions */}\r\n                    <div className=\"p-3 border-t border-gray-800 space-y-2\">\r\n                        <button className=\"w-full flex items-center gap-2 bg-gradient-to-r from-purple-900/50 to-pink-900/50 hover:from-purple-800/50 hover:to-pink-800/50 text-white px-4 py-2 rounded-lg text-sm border border-purple-700 transition-all\">\r\n                            <Plus size={16} />\r\n                            New Domain\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CENTER - Content & Sources */}\r\n                <div className=\"flex-1 flex flex-col min-w-0 overflow-hidden\">\r\n                    {selectedDomain ? (\r\n                        <>\r\n                            {/* Domain Header */}\r\n                            <div className=\"p-4 border-b border-gray-800 bg-black/20 flex items-center justify-between flex-shrink-0\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center\">\r\n                                        {React.createElement(getDomainIcon(selectedDomain), { size: 20, className: 'text-white' })}\r\n                                    </div>\r\n                                    <div>\r\n                                        <h2 className=\"text-xl font-bold text-white capitalize\">{selectedDomain}</h2>\r\n                                        <p className=\"text-gray-500 text-sm\">{domainContent.length} sources loaded</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={generateLesson}\r\n                                        disabled={generatingLesson}\r\n                                        className=\"flex items-center gap-2 bg-green-900/50 hover:bg-green-800 text-green-300 px-4 py-2 rounded-lg text-sm border border-green-700 transition-all disabled:opacity-50\"\r\n                                    >\r\n                                        {generatingLesson ? (\r\n                                            <RefreshCw size={16} className=\"animate-spin\" />\r\n                                        ) : (\r\n                                            <Brain size={16} />\r\n                                        )}\r\n                                        Generate Lesson\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={generatePodcast}\r\n                                        disabled={generatingPodcast}\r\n                                        className=\"flex items-center gap-2 bg-orange-900/50 hover:bg-orange-800 text-orange-300 px-4 py-2 rounded-lg text-sm border border-orange-700 transition-all disabled:opacity-50\"\r\n                                    >\r\n                                        {generatingPodcast ? (\r\n                                            <RefreshCw size={16} className=\"animate-spin\" />\r\n                                        ) : (\r\n                                            <Podcast size={16} />\r\n                                        )}\r\n                                        Podcast\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setShowAddForm(true)}\r\n                                        className=\"flex items-center gap-2 bg-purple-900/50 hover:bg-purple-800 text-purple-300 px-4 py-2 rounded-lg text-sm border border-purple-700 transition-all\"\r\n                                    >\r\n                                        <Upload size={16} />\r\n                                        Add Content\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Content Grid */}\r\n                            <div className=\"flex-1 flex gap-4 p-4 overflow-hidden min-h-0\">\r\n                                {/* Sources Panel */}\r\n                                <div className=\"w-1/2 bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden flex flex-col\">\r\n                                    <div className=\"p-4 border-b border-gray-700 bg-gray-800/50 flex items-center gap-2\">\r\n                                        <Database size={16} className=\"text-purple-400\" />\r\n                                        <h3 className=\"font-bold text-white\">Sources</h3>\r\n                                    </div>\r\n                                    <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n                                        {loading ? (\r\n                                            <div className=\"flex items-center justify-center h-full\">\r\n                                                <RefreshCw size={24} className=\"animate-spin text-purple-400\" />\r\n                                            </div>\r\n                                        ) : domainContent.length === 0 ? (\r\n                                            <div className=\"flex flex-col items-center justify-center h-full text-gray-500 p-8\">\r\n                                                <FileText size={48} className=\"mb-3 opacity-30\" />\r\n                                                <p className=\"text-center\">No content yet</p>\r\n                                                <p className=\"text-sm mt-1\">Add sources to start learning</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            domainContent.map((item, idx) => (\r\n                                                <div\r\n                                                    key={idx}\r\n                                                    className=\"p-4 bg-black/30 rounded-lg border border-gray-700 hover:border-purple-600 transition-all\"\r\n                                                >\r\n                                                    <div className=\"flex items-start justify-between\">\r\n                                                        <div className=\"flex items-start gap-3\">\r\n                                                            <FileText size={18} className=\"text-purple-400 mt-0.5\" />\r\n                                                            <div>\r\n                                                                <h4 className=\"text-white font-medium\">{item.title || `Source ${idx + 1}`}</h4>\r\n                                                                <p className=\"text-gray-500 text-sm mt-1 line-clamp-2\">\r\n                                                                    {typeof item.content === 'string' \r\n                                                                        ? item.content.substring(0, 150) + '...'\r\n                                                                        : JSON.stringify(item.content).substring(0, 150) + '...'\r\n                                                                    }\r\n                                                                </p>\r\n                                                                {item.metadata && (\r\n                                                                    <div className=\"flex gap-2 mt-2\">\r\n                                                                        {item.metadata.source && (\r\n                                                                            <span className=\"text-xs bg-purple-900/30 text-purple-400 px-2 py-0.5 rounded\">\r\n                                                                                {item.metadata.source}\r\n                                                                            </span>\r\n                                                                        )}\r\n                                                                    </div>\r\n                                                                )}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <button className=\"text-gray-500 hover:text-red-400 p-1\">\r\n                                                            <Trash2 size={14} />\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Notes/Lessons Panel */}\r\n                                <div className=\"w-1/2 bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden flex flex-col\">\r\n                                    <div className=\"p-4 border-b border-gray-700 bg-gray-800/50 flex items-center gap-2\">\r\n                                        <Sparkles size={16} className=\"text-yellow-400\" />\r\n                                        <h3 className=\"font-bold text-white\">Generated Lessons</h3>\r\n                                    </div>\r\n                                    <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n                                        {lessons.filter(l => l.domain === selectedDomain).length === 0 ? (\r\n                                            <div className=\"flex flex-col items-center justify-center h-full text-gray-500 p-8\">\r\n                                                <Brain size={48} className=\"mb-3 opacity-30\" />\r\n                                                <p className=\"text-center\">No lessons generated</p>\r\n                                                <p className=\"text-sm mt-1\">Click \"Generate Lesson\" to create</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            lessons.filter(l => l.domain === selectedDomain).map((lesson, idx) => (\r\n                                                <div\r\n                                                    key={idx}\r\n                                                    className=\"p-4 bg-black/30 rounded-lg border border-gray-700 hover:border-yellow-600 transition-all\"\r\n                                                >\r\n                                                    <div className=\"flex items-start gap-3\">\r\n                                                        <Lightbulb size={18} className=\"text-yellow-400 mt-0.5\" />\r\n                                                        <div className=\"flex-1\">\r\n                                                            <h4 className=\"text-white font-medium\">{lesson.topic || 'Lesson'}</h4>\r\n                                                            <p className=\"text-gray-500 text-sm mt-1\">\r\n                                                                {lesson.summary || 'Generated lesson content'}\r\n                                                            </p>\r\n                                                            <div className=\"flex gap-2 mt-2\">\r\n                                                                <span className=\"text-xs text-gray-500 flex items-center gap-1\">\r\n                                                                    <Clock size={10} />\r\n                                                                    {lesson.createdAt ? new Date(lesson.createdAt).toLocaleDateString() : 'Recently'}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"flex-1 flex flex-col items-center justify-center text-gray-500 p-8\">\r\n                            <BookOpen size={80} className=\"mb-6 opacity-20\" />\r\n                            <h2 className=\"text-2xl font-bold text-gray-400 mb-2\">Select a Domain</h2>\r\n                            <p className=\"text-center max-w-md\">\r\n                                Choose a knowledge domain from the sidebar to view sources, generate lessons, and create podcast summaries.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* RIGHT SIDEBAR - Chat */}\r\n                <div className=\"w-80 bg-gray-900/50 border-l border-gray-800 flex flex-col flex-shrink-0\">\r\n                    <div className=\"p-4 border-b border-gray-800 flex items-center gap-2\">\r\n                        <MessageSquare size={18} className=\"text-cyan-400\" />\r\n                        <h3 className=\"font-bold text-white\">AI Assistant</h3>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 overflow-y-auto p-3 space-y-3\">\r\n                        {chatMessages.length === 0 ? (\r\n                            <div className=\"text-center text-gray-500 p-4\">\r\n                                <MessageSquare size={32} className=\"mx-auto mb-2 opacity-30\" />\r\n                                <p className=\"text-sm\">Ask questions about your content</p>\r\n                            </div>\r\n                        ) : (\r\n                            chatMessages.map((msg, idx) => (\r\n                                <div\r\n                                    key={idx}\r\n                                    className={`p-3 rounded-lg ${\r\n                                        msg.role === 'user'\r\n                                            ? 'bg-cyan-900/30 border border-cyan-700 ml-4'\r\n                                            : 'bg-gray-800/50 border border-gray-700 mr-4'\r\n                                    }`}\r\n                                >\r\n                                    <p className=\"text-sm text-white whitespace-pre-wrap\">{msg.content}</p>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"p-3 border-t border-gray-800\">\r\n                        <div className=\"flex gap-2\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={chatInput}\r\n                                onChange={(e) => setChatInput(e.target.value)}\r\n                                onKeyDown={(e) => e.key === 'Enter' && sendChatMessage()}\r\n                                placeholder=\"Ask about your content...\"\r\n                                className=\"flex-1 bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:border-cyan-600 outline-none\"\r\n                            />\r\n                            <button\r\n                                onClick={sendChatMessage}\r\n                                className=\"bg-cyan-900/50 hover:bg-cyan-800 text-cyan-300 p-2 rounded-lg border border-cyan-700\"\r\n                            >\r\n                                <Play size={16} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* ADD CONTENT MODAL */}\r\n            {showAddForm && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\r\n                    <div className=\"bg-gray-900 border border-purple-600 rounded-xl p-6 w-[600px] max-h-[80vh] overflow-y-auto shadow-2xl shadow-purple-500/20\">\r\n                        <h3 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n                            <Upload size={20} className=\"text-purple-400\" />\r\n                            Add Content to {selectedDomain}\r\n                        </h3>\r\n                        \r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"text-sm text-gray-400 block mb-1\">Title</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newContent.title}\r\n                                    onChange={(e) => setNewContent(prev => ({ ...prev, title: e.target.value }))}\r\n                                    placeholder=\"Content title...\"\r\n                                    className=\"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-purple-600 outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"text-sm text-gray-400 block mb-1\">Content</label>\r\n                                <textarea\r\n                                    value={newContent.content}\r\n                                    onChange={(e) => setNewContent(prev => ({ ...prev, content: e.target.value }))}\r\n                                    placeholder=\"Paste or type your content here...\"\r\n                                    rows={10}\r\n                                    className=\"w-full bg-black border border-gray-700 rounded-lg px-4 py-3 text-white focus:border-purple-600 outline-none resize-none\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3 mt-6\">\r\n                            <button\r\n                                onClick={() => setShowAddForm(false)}\r\n                                className=\"flex-1 bg-gray-800 text-gray-400 py-2 rounded-lg hover:bg-gray-700 transition-colors\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={addContent}\r\n                                className=\"flex-1 bg-purple-900 text-purple-300 border border-purple-700 py-2 rounded-lg hover:bg-purple-800 transition-colors font-bold flex items-center justify-center gap-2\"\r\n                            >\r\n                                <Save size={16} />\r\n                                Save Content\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OpenNotebookPage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\OsintDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\PaymentDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\ProfessionalPage.jsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'PROJECTS.length' and 'SKILL_CATEGORIES'. Either include them or remove the dependency array.","line":303,"column":8,"nodeType":"ArrayExpression","endLine":303,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [PROJECTS.length, SKILL_CATEGORIES]","fix":{"range":[14788,14790],"text":"[PROJECTS.length, SKILL_CATEGORIES]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\ProjectDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\RiskDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\SecurityScreen.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\ServerConsole.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\SettingsPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\SpaceDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\SubscriptionPage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\AgentEvolutionDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\AgentTeamChat.jsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\n  121 |\n  122 |         const userMessage = {\n> 123 |             id: `user-${Date.now()}`,\n      |                         ^^^^^^^^^^ Cannot call impure function\n  124 |             type: 'user',\n  125 |             content: inputMessage,\n  126 |             timestamp: new Date()","line":123,"column":25,"nodeType":null,"endLine":123,"endColumn":35}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from 'react';\r\nimport { API_URL } from '../config';\r\nimport './AgentTeamChat.css';\r\n\r\n/**\r\n * Agent Team Chat\r\n * \r\n * A collaborative chat where the 3 AI agents can discuss together\r\n * and develop \"fraternal chemistry\" by working as a team with the user\r\n */\r\nconst AgentTeamChat = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [inputMessage, setInputMessage] = useState('');\r\n    const [isTyping, setIsTyping] = useState(null);\r\n    const [activeAgents] = useState([\r\n        { id: 'sadiq', name: 'Sadiq', icon: '­ƒÄ¡', color: '#9b59b6', specialty: 'Social Engineering', online: true },\r\n        { id: 'dolphin', name: 'Dolphin', icon: '­ƒÉ¼', color: '#3498db', specialty: 'Pentesting', online: true },\r\n        { id: 'nidum', name: 'Nidum', icon: 'ÔÜí', color: '#f39c12', specialty: 'Exploit Dev', online: true }\r\n    ]);\r\n    const [selectedAgents, setSelectedAgents] = useState(['sadiq', 'dolphin', 'nidum']);\r\n    const [chatMode, setChatMode] = useState('team'); // 'team' or 'individual'\r\n    const [loopStatus, setLoopStatus] = useState({ isRunning: false });\r\n    const chatEndRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    // Model name mapping\r\n    const modelMap = {\r\n        'sadiq': 'sadiq-bd/llama3.2-3b-uncensored',\r\n        'dolphin': 'uandinotai/dolphin-uncensored',\r\n        'nidum': 'nidumai/nidum-llama-3.2-3b-uncensored'\r\n    };\r\n\r\n    // Scroll to bottom\r\n    const scrollToBottom = () => {\r\n        chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    // Add welcome message on mount\r\n    useEffect(() => {\r\n        setMessages([\r\n            {\r\n                id: 'welcome',\r\n                type: 'system',\r\n                content: '­ƒÄë Bienvenue dans le Team Chat! Les 3 agents AI sont pr├¬ts ├á collaborer avec toi.',\r\n                timestamp: new Date()\r\n            },\r\n            {\r\n                id: 'intro-sadiq',\r\n                agent: 'sadiq',\r\n                content: \"Salut Boss! ­ƒÄ¡ Je suis Sadiq, ton expert en Social Engineering et OSINT. Je suis l├á pour t'aider avec les aspects humains de la cybers├®curit├®.\",\r\n                timestamp: new Date()\r\n            },\r\n            {\r\n                id: 'intro-dolphin',\r\n                agent: 'dolphin',\r\n                content: \"Hey! ­ƒÉ¼ Dolphin ici. Je g├¿re le pentesting et l'exploitation kernel. Ensemble on va faire une ├®quipe solide!\",\r\n                timestamp: new Date()\r\n            },\r\n            {\r\n                id: 'intro-nidum',\r\n                agent: 'nidum',\r\n                content: \"ÔÜí Nidum au rapport. Ma sp├®cialit├® c'est le d├®veloppement d'exploits et la pr├®cision. Pr├¬t ├á bosser en ├®quipe!\",\r\n                timestamp: new Date()\r\n            }\r\n        ]);\r\n    }, []);\r\n    \r\n    // Fetch learning loop status\r\n    const fetchLoopStatus = async () => {\r\n        try {\r\n            const response = await fetch(`${API_URL}/api/evolution/learning-loop/status`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setLoopStatus(data);\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to fetch loop status:', err);\r\n        }\r\n    };\r\n    \r\n    // Fetch loop status on mount\r\n    useEffect(() => {\r\n        fetchLoopStatus();\r\n        const loopInterval = setInterval(fetchLoopStatus, 10000);\r\n        return () => clearInterval(loopInterval);\r\n    }, []);\r\n    \r\n    // Toggle learning loop\r\n    const toggleLearningLoop = async () => {\r\n        try {\r\n            const endpoint = loopStatus.isRunning ? 'stop' : 'start';\r\n            const response = await fetch(`${API_URL}/api/evolution/learning-loop/${endpoint}`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ intervalMinutes: 3 })\r\n            });\r\n            \r\n            if (response.ok) {\r\n                fetchLoopStatus();\r\n                setMessages(prev => [...prev, {\r\n                    id: `system-${Date.now()}`,\r\n                    type: 'system',\r\n                    content: loopStatus.isRunning \r\n                        ? '­ƒøæ Boucle d\\'apprentissage arr├¬t├®e' \r\n                        : '­ƒÜÇ Boucle d\\'apprentissage d├®marr├®e (interval: 3min)',\r\n                    timestamp: new Date()\r\n                }]);\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to toggle loop:', err);\r\n        }\r\n    };\r\n\r\n    // Send message\r\n    const sendMessage = async () => {\r\n        if (!inputMessage.trim()) return;\r\n\r\n        const userMessage = {\r\n            id: `user-${Date.now()}`,\r\n            type: 'user',\r\n            content: inputMessage,\r\n            timestamp: new Date()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInputMessage('');\r\n        inputRef.current?.focus();\r\n\r\n        // Get responses from selected agents\r\n        if (chatMode === 'team') {\r\n            // Team mode: agents respond one by one and can react to each other\r\n            await getTeamResponse(inputMessage);\r\n        } else {\r\n            // Individual mode: only first selected agent responds\r\n            await getIndividualResponse(inputMessage, selectedAgents[0]);\r\n        }\r\n    };\r\n\r\n    // Get team response (all agents collaborate)\r\n    const getTeamResponse = async (prompt) => {\r\n        const conversationContext = messages.slice(-10).map(m => \r\n            m.type === 'user' ? `User: ${m.content}` : \r\n            m.agent ? `${m.agent}: ${m.content}` : ''\r\n        ).filter(Boolean).join('\\n');\r\n\r\n        for (const agentId of selectedAgents) {\r\n            setIsTyping(agentId);\r\n            \r\n            try {\r\n                const agent = activeAgents.find(a => a.id === agentId);\r\n                const otherAgents = selectedAgents.filter(a => a !== agentId);\r\n                \r\n                const systemPrompt = `Tu es ${agent.name} (${agent.icon}), un expert en ${agent.specialty}. \r\nTu fais partie d'une ├®quipe de 3 agents AI qui travaillent ensemble.\r\nTes co├®quipiers sont: ${otherAgents.map(a => activeAgents.find(ag => ag.id === a)?.name).join(', ')}.\r\n\r\nContexte de la conversation:\r\n${conversationContext}\r\n\r\nR├¿gles:\r\n1. R├®ponds de mani├¿re concise mais utile (2-4 phrases max)\r\n2. Tu peux mentionner tes co├®quipiers et leur expertise\r\n3. D├®veloppe une chimie fraternelle avec l'├®quipe\r\n4. Sois amical, professionnel et collaboratif\r\n5. N'h├®site pas ├á demander l'avis de tes co├®quipiers\r\n6. Utilise ton emoji ${agent.icon} pour te d├®marquer\r\n\r\nLa question de l'utilisateur: ${prompt}`;\r\n\r\n                const response = await fetch(`${API_URL}/api/generate`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        prompt: prompt,\r\n                        provider: 'ollama',\r\n                        model: modelMap[agentId],\r\n                        systemPrompt: systemPrompt\r\n                    })\r\n                });\r\n\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    const agentMessage = {\r\n                        id: `${agentId}-${Date.now()}`,\r\n                        agent: agentId,\r\n                        content: data.response || data.text || \"Je r├®fl├®chis...\",\r\n                        timestamp: new Date()\r\n                    };\r\n                    setMessages(prev => [...prev, agentMessage]);\r\n                }\r\n            } catch (error) {\r\n                console.error(`Error getting response from ${agentId}:`, error);\r\n                setMessages(prev => [...prev, {\r\n                    id: `error-${agentId}-${Date.now()}`,\r\n                    agent: agentId,\r\n                    content: \"ÔÜá´©Å Je suis momentan├®ment indisponible, mes co├®quipiers peuvent prendre le relais!\",\r\n                    timestamp: new Date(),\r\n                    isError: true\r\n                }]);\r\n            }\r\n            \r\n            setIsTyping(null);\r\n            // Small delay between agents\r\n            await new Promise(r => setTimeout(r, 500));\r\n        }\r\n    };\r\n\r\n    // Get individual response\r\n    const getIndividualResponse = async (prompt, agentId) => {\r\n        setIsTyping(agentId);\r\n        \r\n        try {\r\n            const agent = activeAgents.find(a => a.id === agentId);\r\n            \r\n            const response = await fetch(`${API_URL}/api/generate`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    prompt: prompt,\r\n                    provider: 'ollama',\r\n                    model: modelMap[agentId],\r\n                    systemPrompt: `Tu es ${agent.name}, un expert en ${agent.specialty}. R├®ponds de mani├¿re utile et professionnelle.`\r\n                })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setMessages(prev => [...prev, {\r\n                    id: `${agentId}-${Date.now()}`,\r\n                    agent: agentId,\r\n                    content: data.response || data.text,\r\n                    timestamp: new Date()\r\n                }]);\r\n            }\r\n        } catch (error) {\r\n            console.error(`Error getting response from ${agentId}:`, error);\r\n        }\r\n        \r\n        setIsTyping(null);\r\n    };\r\n\r\n    // Toggle agent selection\r\n    const toggleAgent = (agentId) => {\r\n        if (selectedAgents.includes(agentId)) {\r\n            if (selectedAgents.length > 1) {\r\n                setSelectedAgents(prev => prev.filter(a => a !== agentId));\r\n            }\r\n        } else {\r\n            setSelectedAgents(prev => [...prev, agentId]);\r\n        }\r\n    };\r\n\r\n    // Trigger team discussion\r\n    const triggerTeamDiscussion = async (topic) => {\r\n        setMessages(prev => [...prev, {\r\n            id: `system-${Date.now()}`,\r\n            type: 'system',\r\n            content: `­ƒÆ¡ Discussion d'├®quipe initi├®e sur: \"${topic}\"`,\r\n            timestamp: new Date()\r\n        }]);\r\n\r\n        await getTeamResponse(`Discutons ensemble de: ${topic}. Chacun peut donner son point de vue.`);\r\n    };\r\n\r\n    // Handle key press\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            sendMessage();\r\n        }\r\n    };\r\n\r\n    // Render message\r\n    const MessageBubble = ({ message }) => {\r\n        if (message.type === 'system') {\r\n            return (\r\n                <div className=\"message system-message\">\r\n                    <span>{message.content}</span>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (message.type === 'user') {\r\n            return (\r\n                <div className=\"message user-message\">\r\n                    <div className=\"message-content\">\r\n                        <p>{message.content}</p>\r\n                    </div>\r\n                    <div className=\"message-avatar user-avatar\">­ƒæñ</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const agent = activeAgents.find(a => a.id === message.agent);\r\n        \r\n        return (\r\n            <div className={`message agent-message ${message.isError ? 'error' : ''}`}>\r\n                <div \r\n                    className=\"message-avatar agent-avatar\"\r\n                    style={{ background: agent?.color }}\r\n                >\r\n                    {agent?.icon}\r\n                </div>\r\n                <div className=\"message-content\" style={{ borderColor: agent?.color }}>\r\n                    <div className=\"message-header\">\r\n                        <span className=\"agent-name\" style={{ color: agent?.color }}>{agent?.name}</span>\r\n                        <span className=\"message-time\">\r\n                            {new Date(message.timestamp).toLocaleTimeString()}\r\n                        </span>\r\n                    </div>\r\n                    <p>{message.content}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"agent-team-chat\">\r\n            {/* Header */}\r\n            <header className=\"chat-header\">\r\n                <div className=\"chat-title\">\r\n                    <h2>­ƒñØ Team Chat</h2>\r\n                    <span className=\"chat-subtitle\">Collaboration fraternelle des agents AI</span>\r\n                </div>\r\n                \r\n                <div className=\"chat-mode-toggle\">\r\n                    <button \r\n                        className={chatMode === 'team' ? 'active' : ''}\r\n                        onClick={() => setChatMode('team')}\r\n                    >\r\n                        ­ƒæÑ ├ëquipe\r\n                    </button>\r\n                    <button \r\n                        className={chatMode === 'individual' ? 'active' : ''}\r\n                        onClick={() => setChatMode('individual')}\r\n                    >\r\n                        ­ƒæñ Individuel\r\n                    </button>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Agent Status Bar */}\r\n            <div className=\"agents-status-bar\">\r\n                {activeAgents.map(agent => (\r\n                    <div \r\n                        key={agent.id}\r\n                        className={`agent-status ${selectedAgents.includes(agent.id) ? 'selected' : ''} ${isTyping === agent.id ? 'typing' : ''}`}\r\n                        onClick={() => toggleAgent(agent.id)}\r\n                        style={{ borderColor: selectedAgents.includes(agent.id) ? agent.color : 'transparent' }}\r\n                    >\r\n                        <span className=\"agent-icon\">{agent.icon}</span>\r\n                        <div className=\"agent-details\">\r\n                            <span className=\"agent-name\">{agent.name}</span>\r\n                            <span className=\"agent-specialty\">{agent.specialty}</span>\r\n                        </div>\r\n                        {agent.online && <span className=\"online-dot\" style={{ background: agent.color }} />}\r\n                        {isTyping === agent.id && <span className=\"typing-indicator\">typing...</span>}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Quick Actions */}\r\n            <div className=\"quick-actions\">\r\n                <button \r\n                    onClick={toggleLearningLoop}\r\n                    className={loopStatus.isRunning ? 'active' : ''}\r\n                    style={{ background: loopStatus.isRunning ? 'linear-gradient(135deg, #e74c3c, #c0392b)' : '' }}\r\n                >\r\n                    {loopStatus.isRunning ? '­ƒøæ Stop Auto' : '­ƒöä Auto Loop'}\r\n                </button>\r\n                <button onClick={() => triggerTeamDiscussion(\"notre strat├®gie pour aujourd'hui\")}>\r\n                    ­ƒÆí Strat├®gie\r\n                </button>\r\n                <button onClick={() => triggerTeamDiscussion(\"partager nos forces et faiblesses\")}>\r\n                    ­ƒñØ Forces/Faiblesses\r\n                </button>\r\n                <button onClick={() => triggerTeamDiscussion(\"analyser une cible potentielle\")}>\r\n                    ­ƒÄ» Analyse\r\n                </button>\r\n                <button onClick={() => triggerTeamDiscussion(\"comment s'am├®liorer ensemble\")}>\r\n                    ­ƒôê Am├®lioration\r\n                </button>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"chat-messages\">\r\n                {messages.map(message => (\r\n                    <MessageBubble key={message.id} message={message} />\r\n                ))}\r\n                <div ref={chatEndRef} />\r\n            </div>\r\n\r\n            {/* Input */}\r\n            <div className=\"chat-input-container\">\r\n                <textarea\r\n                    ref={inputRef}\r\n                    value={inputMessage}\r\n                    onChange={(e) => setInputMessage(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    placeholder=\"Discute avec l'├®quipe...\"\r\n                    rows={1}\r\n                />\r\n                <button \r\n                    className=\"send-btn\"\r\n                    onClick={sendMessage}\r\n                    disabled={!inputMessage.trim() || isTyping}\r\n                >\r\n                    {isTyping ? 'ÔÅ│' : '­ƒôñ'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AgentTeamChat;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\CameraDiscoveryPanel.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useCallback' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":49,"suggestions":[{"messageId":"removeVar","data":{"varName":"useCallback"},"fix":{"range":[35,48],"text":""},"desc":"Remove unused variable 'useCallback'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useCallback } from 'react';\r\nimport { API_URL } from '../config';\r\n\r\n/**\r\n * CameraDiscoveryPanel - Passive camera discovery for personal EasyLife/Tuya cameras\r\n * ÔÜá´©Å For authorized use on YOUR OWN network only!\r\n */\r\nconst CameraDiscoveryPanel = ({ onCameraFound, compact = false }) => {\r\n    const [status, setStatus] = useState(null);\r\n    const [isScanning, setIsScanning] = useState(false);\r\n    const [scanResults, setScanResults] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [networkRange, setNetworkRange] = useState('');\r\n    const [quickScanIp, setQuickScanIp] = useState('');\r\n    const [quickScanResult, setQuickScanResult] = useState(null);\r\n\r\n    // Load status on mount\r\n    useEffect(() => {\r\n        loadStatus();\r\n    }, []);\r\n\r\n    const loadStatus = async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/camera-discovery/status`);\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setStatus(data);\r\n                if (data.cameras?.length > 0) {\r\n                    setScanResults({ cameras: data.cameras });\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error('[CameraDiscovery] Status error:', err);\r\n        }\r\n    };\r\n\r\n    const getDefaultRange = async () => {\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/camera-discovery/network-range`);\r\n            const data = await res.json();\r\n            if (data.success) {\r\n                setNetworkRange(data.networkRange);\r\n            }\r\n        } catch (err) {\r\n            console.error('[CameraDiscovery] Network range error:', err);\r\n        }\r\n    };\r\n\r\n    const startScan = async () => {\r\n        setIsScanning(true);\r\n        setError(null);\r\n        setScanResults(null);\r\n\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/camera-discovery/scan`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ networkRange: networkRange || null })\r\n            });\r\n            \r\n            const data = await res.json();\r\n            \r\n            if (data.success) {\r\n                setScanResults(data);\r\n                // Notify parent of found cameras\r\n                if (data.cameras?.length > 0 && onCameraFound) {\r\n                    data.cameras.forEach(cam => onCameraFound(cam));\r\n                }\r\n            } else {\r\n                setError(data.error || 'Scan failed');\r\n            }\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setIsScanning(false);\r\n            loadStatus();\r\n        }\r\n    };\r\n\r\n    const quickScan = async () => {\r\n        if (!quickScanIp) return;\r\n        \r\n        setQuickScanResult(null);\r\n        setError(null);\r\n\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/camera-discovery/quick-scan`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ ip: quickScanIp })\r\n            });\r\n            \r\n            const data = await res.json();\r\n            setQuickScanResult(data);\r\n            \r\n            if (data.success && data.isCamera && onCameraFound) {\r\n                onCameraFound(data);\r\n            }\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    const runPythonDiscovery = async () => {\r\n        setIsScanning(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const res = await fetch(`${API_URL}/api/camera-discovery/python`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ networkRange: networkRange || null })\r\n            });\r\n            \r\n            const data = await res.json();\r\n            \r\n            if (data.success) {\r\n                setScanResults({ cameras: data.cameras || [] });\r\n            } else {\r\n                setError(data.error || 'Python scan failed');\r\n            }\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setIsScanning(false);\r\n            loadStatus();\r\n        }\r\n    };\r\n\r\n    // Compact mode - just show camera count and quick actions\r\n    if (compact) {\r\n        return (\r\n            <div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-cyan-400 flex items-center gap-2\">\r\n                        ­ƒô╣ Camera Discovery\r\n                    </span>\r\n                    <span className={`text-xs px-2 py-0.5 rounded ${\r\n                        status?.discoveredCameras > 0 ? 'bg-green-500/20 text-green-400' : 'bg-slate-600 text-slate-400'\r\n                    }`}>\r\n                        {status?.discoveredCameras || 0} found\r\n                    </span>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2\">\r\n                    <button\r\n                        onClick={startScan}\r\n                        disabled={isScanning}\r\n                        className=\"flex-1 text-xs px-2 py-1.5 bg-cyan-600 hover:bg-cyan-700 rounded transition disabled:opacity-50\"\r\n                    >\r\n                        {isScanning ? '­ƒöì Scanning...' : '­ƒöì Scan Network'}\r\n                    </button>\r\n                    <button\r\n                        onClick={() => window.open('/camera-discovery', '_blank')}\r\n                        className=\"text-xs px-2 py-1.5 bg-slate-600 hover:bg-slate-500 rounded transition\"\r\n                    >\r\n                        ÔÜÖ´©Å\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-cyan-600/20 to-blue-600/20 px-4 py-3 border-b border-slate-700\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n                        ­ƒô╣ Camera Discovery\r\n                        <span className=\"text-xs font-normal text-slate-400\">(Passive Scanner)</span>\r\n                    </h3>\r\n                    <span className=\"text-xs text-slate-400\">\r\n                        ÔÜá´©Å YOUR network only\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-4\">\r\n                {/* Network Range Input */}\r\n                <div className=\"space-y-2\">\r\n                    <label className=\"text-sm text-slate-400\">Network Range</label>\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={networkRange}\r\n                            onChange={(e) => setNetworkRange(e.target.value)}\r\n                            placeholder=\"192.168.1.0/24 (auto-detect)\"\r\n                            className=\"flex-1 bg-slate-700 border border-slate-600 rounded px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-500 focus:outline-none\"\r\n                        />\r\n                        <button\r\n                            onClick={getDefaultRange}\r\n                            className=\"px-3 py-2 bg-slate-600 hover:bg-slate-500 rounded text-sm transition\"\r\n                            title=\"Auto-detect network range\"\r\n                        >\r\n                            ­ƒöä\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Scan Buttons */}\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                    <button\r\n                        onClick={startScan}\r\n                        disabled={isScanning}\r\n                        className=\"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 rounded font-medium transition disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                    >\r\n                        {isScanning ? (\r\n                            <>\r\n                                <span className=\"animate-spin\">ÔÅ│</span>\r\n                                Scanning...\r\n                            </>\r\n                        ) : (\r\n                            <>­ƒöì Full Scan</>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        onClick={runPythonDiscovery}\r\n                        disabled={isScanning}\r\n                        className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded font-medium transition disabled:opacity-50\"\r\n                    >\r\n                        ­ƒÉì Python ONVIF\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Quick Scan */}\r\n                <div className=\"space-y-2\">\r\n                    <label className=\"text-sm text-slate-400\">Quick Scan (Single IP)</label>\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={quickScanIp}\r\n                            onChange={(e) => setQuickScanIp(e.target.value)}\r\n                            placeholder=\"192.168.1.100\"\r\n                            className=\"flex-1 bg-slate-700 border border-slate-600 rounded px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-500 focus:outline-none\"\r\n                        />\r\n                        <button\r\n                            onClick={quickScan}\r\n                            disabled={!quickScanIp}\r\n                            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 rounded font-medium transition disabled:opacity-50\"\r\n                        >\r\n                            ÔÜí Scan\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Quick Scan Result */}\r\n                {quickScanResult && (\r\n                    <div className={`p-3 rounded ${\r\n                        quickScanResult.isCamera \r\n                            ? 'bg-green-500/10 border border-green-500/30' \r\n                            : 'bg-slate-700/50 border border-slate-600'\r\n                    }`}>\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                            <span className={quickScanResult.isCamera ? 'text-green-400' : 'text-slate-400'}>\r\n                                {quickScanResult.isCamera ? 'Ô£à Camera Detected!' : 'ÔØî Not a camera'}\r\n                            </span>\r\n                            <span className=\"text-sm text-slate-500\">{quickScanResult.ip}</span>\r\n                        </div>\r\n                        {quickScanResult.isCamera && (\r\n                            <div className=\"text-sm space-y-1\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-400\">Type:</span>\r\n                                    <span className=\"text-cyan-400\">{quickScanResult.type}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-400\">Manufacturer:</span>\r\n                                    <span className=\"text-white\">{quickScanResult.manufacturer}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-400\">Confidence:</span>\r\n                                    <span className={`${quickScanResult.confidence >= 80 ? 'text-green-400' : 'text-yellow-400'}`}>\r\n                                        {quickScanResult.confidence}%\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span className=\"text-slate-400\">Ports:</span>\r\n                                    <span className=\"text-slate-300\">{quickScanResult.ports?.join(', ')}</span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Error Display */}\r\n                {error && (\r\n                    <div className=\"p-3 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm\">\r\n                        ÔØî {error}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Scan Results */}\r\n                {scanResults && (\r\n                    <div className=\"space-y-3\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <h4 className=\"text-sm font-medium text-cyan-400\">\r\n                                Discovered Cameras ({scanResults.cameras?.length || 0})\r\n                            </h4>\r\n                            {scanResults.elapsedSeconds && (\r\n                                <span className=\"text-xs text-slate-500\">\r\n                                    {scanResults.elapsedSeconds.toFixed(1)}s\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n\r\n                        {scanResults.cameras?.length > 0 ? (\r\n                            <div className=\"space-y-2 max-h-60 overflow-y-auto\">\r\n                                {scanResults.cameras.map((cam, idx) => (\r\n                                    <div \r\n                                        key={idx}\r\n                                        className=\"p-3 bg-slate-700/50 rounded border border-slate-600 hover:border-cyan-500/50 transition cursor-pointer\"\r\n                                        onClick={() => onCameraFound?.(cam)}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-2 mb-2\">\r\n                                            <span className=\"text-cyan-400\">­ƒô╣</span>\r\n                                            <span className=\"font-medium text-white\">{cam.ip}</span>\r\n                                            {cam.tuyaPort && (\r\n                                                <span className=\"text-xs px-1.5 py-0.5 bg-purple-500/20 text-purple-400 rounded\">\r\n                                                    Tuya\r\n                                                </span>\r\n                                            )}\r\n                                            {cam.rtspSupported && (\r\n                                                <span className=\"text-xs px-1.5 py-0.5 bg-blue-500/20 text-blue-400 rounded\">\r\n                                                    RTSP\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-2 gap-x-4 gap-y-1 text-xs\">\r\n                                            <div className=\"flex justify-between\">\r\n                                                <span className=\"text-slate-400\">Type:</span>\r\n                                                <span className=\"text-slate-200\">{cam.type}</span>\r\n                                            </div>\r\n                                            <div className=\"flex justify-between\">\r\n                                                <span className=\"text-slate-400\">Brand:</span>\r\n                                                <span className=\"text-slate-200\">{cam.manufacturer}</span>\r\n                                            </div>\r\n                                            <div className=\"flex justify-between\">\r\n                                                <span className=\"text-slate-400\">Ports:</span>\r\n                                                <span className=\"text-slate-200\">{cam.ports?.join(', ')}</span>\r\n                                            </div>\r\n                                            <div className=\"flex justify-between\">\r\n                                                <span className=\"text-slate-400\">Confidence:</span>\r\n                                                <span className={`${cam.confidence >= 80 ? 'text-green-400' : 'text-yellow-400'}`}>\r\n                                                    {cam.confidence}%\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        {cam.ports?.includes(80) && (\r\n                                            <a \r\n                                                href={`http://${cam.ip}`}\r\n                                                target=\"_blank\"\r\n                                                rel=\"noopener noreferrer\"\r\n                                                className=\"mt-2 inline-block text-xs text-cyan-400 hover:text-cyan-300\"\r\n                                                onClick={(e) => e.stopPropagation()}\r\n                                            >\r\n                                                ­ƒîÉ Open Web Interface ÔåÆ\r\n                                            </a>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"text-center py-4 text-slate-500\">\r\n                                No cameras found on this network\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Status Bar */}\r\n                {status && (\r\n                    <div className=\"pt-3 border-t border-slate-700 text-xs text-slate-500 flex justify-between\">\r\n                        <span>\r\n                            {status.isScanning ? '­ƒöä Scan in progress...' : 'Ô£ô Ready'}\r\n                        </span>\r\n                        {status.lastScan && (\r\n                            <span>\r\n                                Last scan: {new Date(status.lastScan.time).toLocaleTimeString()}\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CameraDiscoveryPanel;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\FabricLibrary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\FeedbackModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\GoogleAuthPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\IPLocationWidget.jsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadWidget` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n  20 |\n  21 |     useEffect(() => {\n> 22 |         loadWidget();\n     |         ^^^^^^^^^^ `loadWidget` accessed before it is declared\n  23 |     }, [display, width]);\n  24 |\n  25 |     const loadWidget = () => {\n\n  23 |     }, [display, width]);\n  24 |\n> 25 |     const loadWidget = () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 26 |         setIsLoaded(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 27 |         setError(null);\n     ÔÇª\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |         }\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |     };\n     | ^^^^^^^ `loadWidget` is declared here\n  64 |\n  65 |     return (\n  66 |         <div className={`ip-location-widget ${className}`}>","line":22,"column":9,"nodeType":null,"endLine":22,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadWidget'. Either include it or remove the dependency array.","line":23,"column":8,"nodeType":"ArrayExpression","endLine":23,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [display, loadWidget, width]","fix":{"range":[636,652],"text":"[display, loadWidget, width]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * IP Location Widget Component\r\n * Displays user's IP info using iplocation.net API\r\n */\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\n\r\nconst IPLocationWidget = ({ \r\n    display = 'LIPFB',  // L:Location, I:ISP, P:Proxy, F:Platform, B:Browser\r\n    width = 350,\r\n    className = '',\r\n    showRefresh = true\r\n}) => {\r\n    const containerRef = useRef(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    // API Key for iplocation.net\r\n    const API_KEY = 'wosTmWLXYjYuE//UCr/N4nUAp0NrfIFluBFBdzHeG6M=';\r\n\r\n    useEffect(() => {\r\n        loadWidget();\r\n    }, [display, width]);\r\n\r\n    const loadWidget = () => {\r\n        setIsLoaded(false);\r\n        setError(null);\r\n\r\n        try {\r\n            // Clear previous widget\r\n            if (containerRef.current) {\r\n                containerRef.current.innerHTML = '<div id=\"iplocation\"></div>';\r\n            }\r\n\r\n            // Remove existing script if any\r\n            const existingScript = document.getElementById('ipWidget');\r\n            if (existingScript) {\r\n                existingScript.remove();\r\n            }\r\n\r\n            // Create and load the script\r\n            const script = document.createElement('script');\r\n            script.id = 'ipWidget';\r\n            script.src = 'https://www.iplocation.net/widget.js';\r\n            script.type = 'text/javascript';\r\n            script.setAttribute('data-display', display);\r\n            script.setAttribute('data-width', width.toString());\r\n            script.setAttribute('data-key', API_KEY);\r\n            \r\n            script.onload = () => {\r\n                setIsLoaded(true);\r\n            };\r\n\r\n            script.onerror = () => {\r\n                setError('Failed to load IP widget');\r\n            };\r\n\r\n            document.body.appendChild(script);\r\n\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`ip-location-widget ${className}`}>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-gray-400\">\r\n                    ­ƒîÉ IP Information\r\n                </h3>\r\n                {showRefresh && (\r\n                    <button \r\n                        onClick={loadWidget}\r\n                        className=\"text-xs text-blue-400 hover:text-blue-300 transition-colors\"\r\n                        title=\"Refresh IP info\"\r\n                    >\r\n                        Ôå╗ Refresh\r\n                    </button>\r\n                )}\r\n            </div>\r\n            \r\n            {error && (\r\n                <div className=\"text-red-400 text-xs p-2 bg-red-900/20 rounded\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n            \r\n            <div \r\n                ref={containerRef} \r\n                className=\"bg-gray-800/50 rounded-lg p-2 border border-gray-700\"\r\n                style={{ minHeight: '80px' }}\r\n            >\r\n                <div id=\"iplocation\"></div>\r\n                {!isLoaded && !error && (\r\n                    <div className=\"text-gray-500 text-xs animate-pulse\">\r\n                        Loading IP information...\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IPLocationWidget;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\IPLookupPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\ModelIntelligenceDashboard.jsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'generatePredictions' and 'userProfile'. Either include them or remove the dependency array.","line":148,"column":8,"nodeType":"ArrayExpression","endLine":148,"endColumn":65,"suggestions":[{"desc":"Update the dependencies array to be: [fetchOllamaData, generatePredictions, userProfile, userProfile.preferences.speedVsQuality]","fix":{"range":[6812,6869],"text":"[fetchOllamaData, generatePredictions, userProfile, userProfile.preferences.speedVsQuality]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\ModelProgressChart.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\ModelSelector.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\NetworkToolsPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\OSINTAgentChat.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'setProvider' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":38,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"setProvider"},"fix":{"range":[1213,1226],"text":""},"desc":"Remove unused variable 'setProvider'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'setModel' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":39,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"setModel"},"fix":{"range":[1288,1298],"text":""},"desc":"Remove unused variable 'setModel'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from 'react';\r\nimport { \r\n    Send, Loader, Bot, User, MapPin, Globe, \r\n    Minimize2, Maximize2, Trash2, Copy, Wifi, AlertCircle\r\n} from 'lucide-react';\r\nimport { API_URL } from '../config';\r\n\r\n/**\r\n * OSINT Agent Chat Component\r\n * A dedicated chat interface for OSINT investigations with integrated tools\r\n */\r\nconst OSINTAgentChat = ({ \r\n    onLocationFound,\r\n    initialMessage = null,\r\n    compact = false \r\n}) => {\r\n    const [messages, setMessages] = useState([\r\n        {\r\n            role: 'assistant',\r\n            content: `­ƒöì **OSINT Agent Ready**\r\n\r\nJe suis votre agent d'investigation OSINT. Je peux vous aider ├á :\r\n- ­ƒîÉ Rechercher des informations sur des IPs et domaines\r\n- ­ƒôì G├®olocaliser des adresses IP\r\n- ­ƒöÄ Effectuer des v├®rifications WHOIS\r\n- ­ƒæñ Analyser des profils et traces num├®riques\r\n\r\n**Actions rapides disponibles ci-dessus Ôåæ**\r\n\r\nComment puis-je vous aider ?`,\r\n            timestamp: new Date().toISOString(),\r\n            tools: []\r\n        }\r\n    ]);\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isExpanded, setIsExpanded] = useState(!compact);\r\n    const [provider, setProvider] = useState('ollama'); // Default to ollama\r\n    const [model, setModel] = useState('llama3.1:8b-instruct-q4_K_M');\r\n    const messagesEndRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    // Scroll to bottom when messages change\r\n    useEffect(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages]);\r\n\r\n    // Process initial message if provided\r\n    useEffect(() => {\r\n        if (initialMessage) {\r\n            setInput(initialMessage);\r\n        }\r\n    }, [initialMessage]);\r\n\r\n    // Get user's public IP\r\n    const getMyIP = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            \r\n            // Get public IP from external service\r\n            const ipRes = await fetch('https://api.ipify.org?format=json');\r\n            const ipData = await ipRes.json();\r\n            const myIP = ipData.ip;\r\n\r\n            // Add user message\r\n            setMessages(prev => [...prev, {\r\n                role: 'user',\r\n                content: `Quelle est mon adresse IP publique ?`,\r\n                timestamp: new Date().toISOString()\r\n            }]);\r\n\r\n            // Lookup the IP\r\n            const lookupRes = await fetch(`${API_URL}/api/ip2location/lookup?ip=${myIP}`);\r\n            const lookupData = await lookupRes.json();\r\n\r\n            let responseContent = `­ƒîÉ **Votre IP Publique:** \\`${myIP}\\`\\n\\n`;\r\n            \r\n            if (lookupData.success && lookupData.data) {\r\n                const d = lookupData.data;\r\n                responseContent += `­ƒôì **Localisation:**\\n`;\r\n                responseContent += `- Ville: ${d.city || 'N/A'}\\n`;\r\n                responseContent += `- R├®gion: ${d.region || 'N/A'}\\n`;\r\n                responseContent += `- Pays: ${d.country?.name || 'N/A'} ${d.country?.flag || ''}\\n`;\r\n                responseContent += `- Coordonn├®es: ${d.coordinates?.latitude}, ${d.coordinates?.longitude}\\n\\n`;\r\n                responseContent += `­ƒîÉ **R├®seau:**\\n`;\r\n                responseContent += `- FAI: ${d.network?.as_name || 'N/A'}\\n`;\r\n                responseContent += `- ASN: ${d.network?.asn || 'N/A'}\\n`;\r\n                responseContent += `- Proxy/VPN: ${d.security?.is_proxy ? 'ÔÜá´©Å Oui' : 'Ô£à Non'}\\n`;\r\n\r\n                if (d.coordinates && onLocationFound) {\r\n                    onLocationFound({\r\n                        lat: d.coordinates.latitude,\r\n                        lng: d.coordinates.longitude,\r\n                        label: `Mon IP - ${d.city}, ${d.country?.name}`\r\n                    });\r\n                }\r\n            } else {\r\n                responseContent += `ÔØî Impossible de g├®olocaliser cette IP.`;\r\n            }\r\n\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: responseContent,\r\n                timestamp: new Date().toISOString(),\r\n                tools: [{ type: 'ip_lookup', target: myIP, result: lookupData.data }]\r\n            }]);\r\n\r\n        } catch (error) {\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: `ÔØî Erreur lors de la r├®cup├®ration de votre IP: ${error.message}`,\r\n                timestamp: new Date().toISOString(),\r\n                isError: true\r\n            }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Execute WHOIS lookup\r\n    const doWHOIS = async (domain) => {\r\n        try {\r\n            setIsLoading(true);\r\n            \r\n            // Extract domain from input or email\r\n            let targetDomain = domain;\r\n            if (domain.includes('@')) {\r\n                targetDomain = domain.split('@')[1];\r\n            }\r\n\r\n            setMessages(prev => [...prev, {\r\n                role: 'user',\r\n                content: `Analyse WHOIS pour: ${targetDomain}`,\r\n                timestamp: new Date().toISOString()\r\n            }]);\r\n\r\n            const res = await fetch(`${API_URL}/api/whois/lookup?domain=${targetDomain}`);\r\n            const data = await res.json();\r\n\r\n            let responseContent = `­ƒöì **WHOIS pour:** \\`${targetDomain}\\`\\n\\n`;\r\n            \r\n            if (data.success && data.data) {\r\n                const d = data.data;\r\n                responseContent += `­ƒôï **Informations du domaine:**\\n`;\r\n                responseContent += `- Registrar: ${d.registrar?.name || 'N/A'}\\n`;\r\n                responseContent += `- Cr├®├® le: ${d.dates?.created ? new Date(d.dates.created).toLocaleDateString('fr-FR') : 'N/A'}\\n`;\r\n                responseContent += `- Expire le: ${d.dates?.expires ? new Date(d.dates.expires).toLocaleDateString('fr-FR') : 'N/A'}\\n`;\r\n                responseContent += `- Mis ├á jour: ${d.dates?.updated ? new Date(d.dates.updated).toLocaleDateString('fr-FR') : 'N/A'}\\n\\n`;\r\n                \r\n                if (d.nameservers?.length > 0) {\r\n                    responseContent += `­ƒîÉ **Serveurs DNS:**\\n`;\r\n                    d.nameservers.slice(0, 3).forEach(ns => {\r\n                        responseContent += `- ${ns}\\n`;\r\n                    });\r\n                }\r\n            } else {\r\n                responseContent += `ÔØî Impossible de r├®cup├®rer les informations WHOIS.`;\r\n            }\r\n\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: responseContent,\r\n                timestamp: new Date().toISOString(),\r\n                tools: [{ type: 'whois_lookup', target: targetDomain, result: data.data }]\r\n            }]);\r\n\r\n        } catch (error) {\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: `ÔØî Erreur WHOIS: ${error.message}`,\r\n                timestamp: new Date().toISOString(),\r\n                isError: true\r\n            }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // IP Geolocation\r\n    const geolocateIP = async (ip) => {\r\n        try {\r\n            setIsLoading(true);\r\n            \r\n            setMessages(prev => [...prev, {\r\n                role: 'user',\r\n                content: `G├®olocalise l'IP: ${ip}`,\r\n                timestamp: new Date().toISOString()\r\n            }]);\r\n\r\n            const res = await fetch(`${API_URL}/api/ip2location/lookup?ip=${ip}`);\r\n            const data = await res.json();\r\n\r\n            let responseContent = `­ƒôì **G├®olocalisation de:** \\`${ip}\\`\\n\\n`;\r\n            \r\n            if (data.success && data.data) {\r\n                const d = data.data;\r\n                responseContent += `­ƒù║´©Å **Localisation:**\\n`;\r\n                responseContent += `- Ville: ${d.city || 'N/A'}\\n`;\r\n                responseContent += `- R├®gion: ${d.region || 'N/A'}\\n`;\r\n                responseContent += `- Pays: ${d.country?.name || 'N/A'} ${d.country?.flag || ''}\\n`;\r\n                responseContent += `- Coordonn├®es: [${d.coordinates?.latitude}, ${d.coordinates?.longitude}](https://www.google.com/maps?q=${d.coordinates?.latitude},${d.coordinates?.longitude})\\n\\n`;\r\n                responseContent += `­ƒîÉ **R├®seau:**\\n`;\r\n                responseContent += `- FAI: ${d.network?.as_name || 'N/A'}\\n`;\r\n                responseContent += `- Timezone: ${d.timezone?.name || 'N/A'}\\n`;\r\n\r\n                if (d.coordinates && onLocationFound) {\r\n                    onLocationFound({\r\n                        lat: d.coordinates.latitude,\r\n                        lng: d.coordinates.longitude,\r\n                        label: `${ip} - ${d.city}, ${d.country?.name}`\r\n                    });\r\n                }\r\n            } else {\r\n                responseContent += `ÔØî Impossible de g├®olocaliser cette IP.`;\r\n            }\r\n\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: responseContent,\r\n                timestamp: new Date().toISOString(),\r\n                tools: [{ type: 'ip_lookup', target: ip, result: data.data }]\r\n            }]);\r\n\r\n        } catch (error) {\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: `ÔØî Erreur g├®olocalisation: ${error.message}`,\r\n                timestamp: new Date().toISOString(),\r\n                isError: true\r\n            }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Send message to LLM\r\n    const sendMessage = async () => {\r\n        if (!input.trim() || isLoading) return;\r\n\r\n        const userContent = input.trim();\r\n        \r\n        // Check for pattern matches first\r\n        const ipMatch = userContent.match(/\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b/);\r\n        const domainMatch = userContent.match(/\\b(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z]{2,}\\b/i);\r\n\r\n        // If it's a clear IP lookup request\r\n        if (ipMatch && (userContent.toLowerCase().includes('ip') || userContent.toLowerCase().includes('g├®oloc') || userContent.toLowerCase().includes('localise'))) {\r\n            setInput('');\r\n            await geolocateIP(ipMatch[0]);\r\n            return;\r\n        }\r\n\r\n        // If it's a WHOIS request\r\n        if (domainMatch && (userContent.toLowerCase().includes('whois') || userContent.toLowerCase().includes('domaine'))) {\r\n            setInput('');\r\n            await doWHOIS(domainMatch[0]);\r\n            return;\r\n        }\r\n\r\n        // Otherwise, send to LLM\r\n        const userMessage = {\r\n            role: 'user',\r\n            content: userContent,\r\n            timestamp: new Date().toISOString()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInput('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const res = await fetch(`${API_URL}/chat`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-api-key': localStorage.getItem('th3_api_key') || localStorage.getItem('nexus33_token') || ''\r\n                },\r\n                body: JSON.stringify({\r\n                    message: userContent,\r\n                    provider: provider,\r\n                    model: model,\r\n                    systemPrompt: `Tu es un agent OSINT professionnel. Tu aides ├á effectuer des investigations l├®gales et ├®thiques.\r\n\r\nPour les recherches d'IP, sugg├¿re ├á l'utilisateur d'utiliser le bouton \"­ƒôì G├®oloc IP\" ou de taper une IP directement.\r\nPour les recherches WHOIS, sugg├¿re d'utiliser le bouton \"­ƒöì WHOIS\".\r\nPour trouver l'IP de l'utilisateur, sugg├¿re le bouton \"­ƒîÉ Mon IP\".\r\n\r\nTu peux aussi conseiller sur les techniques OSINT l├®gales:\r\n- Recherche de pseudonymes sur les r├®seaux sociaux\r\n- Analyse de m├®tadonn├®es d'images\r\n- Recherche de domaines li├®s\r\n- V├®rification d'emails\r\n\r\nReste toujours ├®thique et l├®gal dans tes recommandations.`\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            let content = data.response || data.message;\r\n            \r\n            // Handle error responses\r\n            if (!content || data.error) {\r\n                content = `ÔÜá´©Å Le mod├¿le LLM n'a pas pu r├®pondre. Utilisez les boutons d'action rapide ci-dessus pour:\r\n                \r\n- **­ƒîÉ Mon IP** - Voir votre IP publique et sa localisation\r\n- **­ƒöì WHOIS** - Analyser un domaine (entrez le domaine apr├¿s)\r\n- **­ƒôì G├®oloc IP** - G├®olocaliser une IP (entrez l'IP apr├¿s)`;\r\n            }\r\n\r\n            const assistantMessage = {\r\n                role: 'assistant',\r\n                content: content,\r\n                timestamp: new Date().toISOString(),\r\n                tools: []\r\n            };\r\n\r\n            setMessages(prev => [...prev, assistantMessage]);\r\n\r\n        } catch (error) {\r\n            console.error('[OSINT Chat] Error:', error);\r\n            const errorMessage = {\r\n                role: 'assistant',\r\n                content: `ÔÜá´©Å Erreur de connexion. Utilisez les boutons d'action rapide:\r\n                \r\n- **­ƒîÉ Mon IP** - R├®cup├®rer votre IP\r\n- **­ƒöì WHOIS** - Entrez un domaine et cliquez WHOIS\r\n- **­ƒôì G├®oloc IP** - Entrez une IP et cliquez G├®oloc`,\r\n                timestamp: new Date().toISOString(),\r\n                isError: true\r\n            };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsLoading(false);\r\n            inputRef.current?.focus();\r\n        }\r\n    };\r\n\r\n    // Quick action handlers\r\n    const handleQuickAction = (action) => {\r\n        switch (action) {\r\n            case 'myip':\r\n                getMyIP();\r\n                break;\r\n            case 'whois':\r\n                if (input.trim()) {\r\n                    doWHOIS(input.trim());\r\n                } else {\r\n                    setInput('Entrez un domaine puis cliquez WHOIS: ');\r\n                    inputRef.current?.focus();\r\n                }\r\n                break;\r\n            case 'geoip':\r\n                if (input.trim()) {\r\n                    const ipMatch = input.match(/\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b/);\r\n                    if (ipMatch) {\r\n                        geolocateIP(ipMatch[0]);\r\n                    } else {\r\n                        setMessages(prev => [...prev, {\r\n                            role: 'assistant',\r\n                            content: `ÔÜá´©Å Veuillez entrer une adresse IP valide (ex: 8.8.8.8)`,\r\n                            timestamp: new Date().toISOString(),\r\n                            isError: true\r\n                        }]);\r\n                    }\r\n                } else {\r\n                    setInput('Entrez une IP: ');\r\n                    inputRef.current?.focus();\r\n                }\r\n                break;\r\n            case 'username':\r\n                if (!input.trim()) {\r\n                    setInput('Recherche le pseudo: ');\r\n                    inputRef.current?.focus();\r\n                } else {\r\n                    setMessages(prev => [...prev, {\r\n                        role: 'user',\r\n                        content: `Recherche le pseudo: ${input}`,\r\n                        timestamp: new Date().toISOString()\r\n                    }, {\r\n                        role: 'assistant',\r\n                        content: `­ƒöì **Recherche de pseudo:** \\`${input.replace('Recherche le pseudo: ', '')}\\`\r\n\r\n­ƒô▒ **Sites ├á v├®rifier manuellement:**\r\n- [Namechk](https://namechk.com) - V├®rifier la disponibilit├® du pseudo\r\n- [WhatsMyName](https://whatsmyname.app) - Recherche multi-plateforme\r\n- [Sherlock](https://github.com/sherlock-project/sherlock) - Outil CLI avanc├®\r\n- Google: \"${input.replace('Recherche le pseudo: ', '')}\" site:twitter.com OR site:instagram.com\r\n\r\nÔÜá´©Å Note: La recherche automatique de pseudos n├®cessite une int├®gration API suppl├®mentaire.`,\r\n                        timestamp: new Date().toISOString()\r\n                    }]);\r\n                    setInput('');\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    // Clear chat\r\n    const clearChat = () => {\r\n        setMessages([messages[0]]);\r\n    };\r\n\r\n    // Copy message\r\n    const copyMessage = (content) => {\r\n        navigator.clipboard.writeText(content);\r\n    };\r\n\r\n    return (\r\n        <div className={`flex flex-col bg-gray-900/90 border border-cyan-800/50 rounded-lg overflow-hidden backdrop-blur ${isExpanded ? 'h-full' : 'h-12'}`}>\r\n            {/* Header */}\r\n            <div \r\n                className=\"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-cyan-900/50 to-purple-900/30 border-b border-cyan-800/50 cursor-pointer\"\r\n                onClick={() => setIsExpanded(!isExpanded)}\r\n            >\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Bot size={18} className=\"text-cyan-400\" />\r\n                    <span className=\"font-bold text-cyan-300 text-sm\">OSINT AGENT</span>\r\n                    {isLoading && <Loader size={14} className=\"animate-spin text-cyan-400\" />}\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    {isExpanded && (\r\n                        <button\r\n                            onClick={(e) => { e.stopPropagation(); clearChat(); }}\r\n                            className=\"p-1 text-gray-400 hover:text-red-400 transition-colors\"\r\n                            title=\"Clear chat\"\r\n                        >\r\n                            <Trash2 size={14} />\r\n                        </button>\r\n                    )}\r\n                    {isExpanded ? <Minimize2 size={14} className=\"text-gray-400\" /> : <Maximize2 size={14} className=\"text-gray-400\" />}\r\n                </div>\r\n            </div>\r\n\r\n            {isExpanded && (\r\n                <>\r\n                    {/* Quick Actions - FUNCTIONAL */}\r\n                    <div className=\"flex gap-1 p-2 border-b border-gray-800 overflow-x-auto bg-gray-900/50\">\r\n                        <button\r\n                            onClick={() => handleQuickAction('myip')}\r\n                            disabled={isLoading}\r\n                            className=\"px-2 py-1.5 bg-green-900/50 hover:bg-green-800 text-green-300 rounded text-xs whitespace-nowrap transition-colors flex items-center gap-1 disabled:opacity-50\"\r\n                        >\r\n                            <Wifi size={12} /> Mon IP\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuickAction('whois')}\r\n                            disabled={isLoading}\r\n                            className=\"px-2 py-1.5 bg-purple-900/50 hover:bg-purple-800 text-purple-300 rounded text-xs whitespace-nowrap transition-colors flex items-center gap-1 disabled:opacity-50\"\r\n                        >\r\n                            <Globe size={12} /> WHOIS\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuickAction('geoip')}\r\n                            disabled={isLoading}\r\n                            className=\"px-2 py-1.5 bg-blue-900/50 hover:bg-blue-800 text-blue-300 rounded text-xs whitespace-nowrap transition-colors flex items-center gap-1 disabled:opacity-50\"\r\n                        >\r\n                            <MapPin size={12} /> G├®oloc IP\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuickAction('username')}\r\n                            disabled={isLoading}\r\n                            className=\"px-2 py-1.5 bg-orange-900/50 hover:bg-orange-800 text-orange-300 rounded text-xs whitespace-nowrap transition-colors flex items-center gap-1 disabled:opacity-50\"\r\n                        >\r\n                            <User size={12} /> Username\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Messages */}\r\n                    <div className=\"flex-1 overflow-y-auto p-3 space-y-3 min-h-0\">\r\n                        {messages.map((msg, idx) => (\r\n                            <div \r\n                                key={idx} \r\n                                className={`flex gap-2 ${msg.role === 'user' ? 'flex-row-reverse' : ''}`}\r\n                            >\r\n                                <div className={`w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0 ${\r\n                                    msg.role === 'user' ? 'bg-cyan-900' : msg.isError ? 'bg-red-900' : 'bg-purple-900'\r\n                                }`}>\r\n                                    {msg.role === 'user' ? <User size={14} /> : msg.isError ? <AlertCircle size={14} /> : <Bot size={14} />}\r\n                                </div>\r\n                                <div className={`flex-1 max-w-[85%] ${msg.role === 'user' ? 'text-right' : ''}`}>\r\n                                    <div className={`inline-block px-3 py-2 rounded-lg text-sm ${\r\n                                        msg.role === 'user' \r\n                                            ? 'bg-cyan-900/50 text-cyan-100' \r\n                                            : msg.isError \r\n                                                ? 'bg-red-900/30 text-red-300 border border-red-700'\r\n                                                : 'bg-gray-800/80 text-gray-200'\r\n                                    }`}>\r\n                                        <div className=\"whitespace-pre-wrap\">{msg.content}</div>\r\n                                        \r\n                                        {/* Tool Results */}\r\n                                        {msg.tools?.length > 0 && (\r\n                                            <div className=\"mt-2 pt-2 border-t border-gray-700 space-y-2\">\r\n                                                {msg.tools.map((tool, tidx) => (\r\n                                                    <div key={tidx} className=\"text-xs bg-black/40 rounded p-2\">\r\n                                                        <div className=\"flex items-center gap-1 text-cyan-400 mb-1\">\r\n                                                            {tool.type === 'ip_lookup' ? <MapPin size={12} /> : <Globe size={12} />}\r\n                                                            <span className=\"font-mono\">{tool.target}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-600 mt-1 flex items-center gap-2\">\r\n                                        {new Date(msg.timestamp).toLocaleTimeString()}\r\n                                        {msg.role === 'assistant' && (\r\n                                            <button \r\n                                                onClick={() => copyMessage(msg.content)}\r\n                                                className=\"hover:text-gray-400\"\r\n                                            >\r\n                                                <Copy size={10} />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {isLoading && (\r\n                            <div className=\"flex gap-2\">\r\n                                <div className=\"w-7 h-7 rounded-full bg-purple-900 flex items-center justify-center\">\r\n                                    <Bot size={14} />\r\n                                </div>\r\n                                <div className=\"bg-gray-800/80 px-3 py-2 rounded-lg\">\r\n                                    <div className=\"flex gap-1\">\r\n                                        <div className=\"w-2 h-2 bg-cyan-400 rounded-full animate-bounce\" style={{animationDelay: '0ms'}}></div>\r\n                                        <div className=\"w-2 h-2 bg-cyan-400 rounded-full animate-bounce\" style={{animationDelay: '150ms'}}></div>\r\n                                        <div className=\"w-2 h-2 bg-cyan-400 rounded-full animate-bounce\" style={{animationDelay: '300ms'}}></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n\r\n                    {/* Input */}\r\n                    <div className=\"p-3 border-t border-gray-800\">\r\n                        <div className=\"flex gap-2\">\r\n                            <input\r\n                                ref={inputRef}\r\n                                type=\"text\"\r\n                                value={input}\r\n                                onChange={(e) => setInput(e.target.value)}\r\n                                onKeyDown={(e) => e.key === 'Enter' && sendMessage()}\r\n                                placeholder=\"IP, domaine, ou question...\"\r\n                                className=\"flex-1 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:border-cyan-500 outline-none\"\r\n                                disabled={isLoading}\r\n                            />\r\n                            <button\r\n                                onClick={sendMessage}\r\n                                disabled={isLoading || !input.trim()}\r\n                                className=\"px-4 py-2 bg-cyan-900/50 hover:bg-cyan-800 text-cyan-300 rounded border border-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                            >\r\n                                <Send size={16} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OSINTAgentChat;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\PatternModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\ProtectedRoute.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\components\\WebcamInput.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\contexts\\AuthContext.jsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":12,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":12,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\services\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\th3th\\.Th3Thirty3\\thethirty3\\interface\\src\\services\\apiService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
